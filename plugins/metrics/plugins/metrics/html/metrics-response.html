<div ng-controller="MetricsViewController as vm">

    <div class="col-sm-9 col-md-10 content">

        <div class="well">
            <span class="col-md-3 col-sm-4" style="margin:-10px 0 0 -20px;">
                <select class="form-control input-sm" ng-model="vm.selectedResource"
                        ng-options="rs.parameters.url for rs in vm.resourceList" style="width:100%;"></select>
            </span>
            <span class="col-md-3 col-sm-2 pull-right" style="margin:-10px;">
                <span class="input-group input-group-sm" style="width:100%;">
                    <input type="text" class="form-control input-sm" value="{{vm.dateRange}}"  readonly>
                </span>
            </span>
        </div>
        <h1>Response Time</h1>

        <p class="update-info pull-right"><i class="fa fa-refresh"></i>
            <a ng-click="vm.refreshChartDataNow(vm.getMetricId())">Last update 1 minutes ago</a>
        </p>
        <ul class="nav nav-tabs nav-tabs-pf">
            <li class="active"><a href="#">Response Time</a></li>
            <li><a href="#">Responsiveness</a></li>
        </ul>
        <div style="width:800px;" ng-switch="vm.chartData.dataPoints.length > 1">
            <p class="label label-info" ng-switch-when="false">We are collecting your initial data. Please be patient(could be up to a minute)...</p>

            <div id="stackedBarChart" style="height:270px" ng-switch-when="true">
                <!-- HINT: colors for the chart can be changed in the hawkular-charts.css -->
                <hawkular-chart
                        data="{{vm.chartData.dataPoints}}"
                        chart-type="line"
                        show-avg-line="false"
                        hide-high-low-values="true"
                        y-axis-units="Response time (ms)"
                        chart-title="Monitored Resource: {{vm.selectedResource.parameters.url}}"
                        chart-height="250">
                </hawkular-chart>
            </div>
            <!--
            <div style="margin-top: 30px;">
                <button class="btn btn-sm" ng-click="vm.showPreviousTimeRange()" style="margin-left:90px;"
                        ng-show="vm.chartData.dataPoints.length > 2">&lt;&lt; Prev.
                </button>
                <button class="btn btn-sm" style="float:right;margin-right: 50px;" ng-click="vm.showNextTimeRange()"
                        ng-show="vm.chartData.dataPoints.length > 2" ng-disabled="!vm.hasNext();">Next &gt;&gt;</button>
            </div>
            <br/>
            -->
        </div>

    </div>


</div>
</div>
