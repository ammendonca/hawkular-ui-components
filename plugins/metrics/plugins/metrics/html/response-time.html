<div ng-controller="MetricsViewController as vm">

  <div class="col-sm-9 col-md-10 content">

    <div class="well" id="control-bar">
            <span class="col-md-3 col-sm-4 select-url-container">
                <select class="form-control input-sm select-url" ng-model="vm.selectedResource"
                        ng-options="rs.parameters.url for rs in vm.resourceList"></select>
            </span>
            <span id="date-range-container" class="col-md-3 col-sm-2 pull-right">
                <span id="date-range" class="input-group input-group-sm">
                    <input type="text" class="form-control input-sm" value="{{vm.dateRange}}" readonly>
                </span>
            </span>
    </div>

    <div class="col-sm-9 col-md-10 content response-time">
      <h1>Response Time</h1>

      <div class="panel panel-default graph-summary">
        <div class="row">
          <div class="col-md-4 summary-item">
            <span class="data">879 <span>ms</span></span>
            <span class="item">Average</span>
          </div>
          <div class="col-md-4 summary-item">
            <span class="data">2345 <span>ms</span></span>
            <span class="item">Median</span>
          </div>
          <div class="col-md-4 summary-item">
            <span class="data">2786 <span>ms</span></span>
            <span class="item">95th percentile</span>
          </div>
        </div>
      </div>


      <div class="panel panel-default graph">
        <div class="legend pull-left" ng-show="vm.chartData.dataPoints.length > 0">
          <span><i class="fa fa-circle primary"></i>Response Time</span>
          <span><i class="fa fa-circle danger"></i>Response Time (above the threshold)</span>
        </div>
        <div class="update pull-right" ng-show="vm.chartData.dataPoints.length > 0" >
          <i class="fa fa-clock-o"></i><a ng-click="vm.refreshChartDataNow(vm.getMetricId())"><strong>Last
          update</strong> 1 minutes ago</a>
        </div>

        <p class="label label-info waiting-label" ng-hide="vm.chartData.dataPoints.length > 0" >We are
          collecting your initial data. Please be patient(could be up to a minute)...</p>


        <div id="metrics-chart">
          <!-- HINT: colors for the chart can be changed in the hawkular-charts.css -->
          <hawkular-chart
            data="{{vm.chartData.dataPoints}}"
            chart-type="hawkulararea"
            alert-value="500"
            hide-high-low-values="true"
            y-axis-units="Response Time (ms)"
            chart-height="250">
          </hawkular-chart>
        </div>
      </div>


    </div>


  </div>

</div>


