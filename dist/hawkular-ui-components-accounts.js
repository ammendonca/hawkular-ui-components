/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.
if (typeof HawkularComponentsVersions !== 'undefined') { HawkularComponentsVersions.push({name:'accounts', version:'c59137f HWKINVENT-38 Propagating the currentPersona.id (~tenant) to other plugins/directives.'})} else {HawkularComponentsVersions = [{name:'accounts', version:'c59137f HWKINVENT-38 Propagating the currentPersona.id (~tenant) to other plugins/directives.'}]};


var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.pluginName = "hawkular-accounts";
    HawkularAccounts.log = Logger.get(HawkularAccounts.pluginName);
    HawkularAccounts.templatePath = "plugins/accounts/html";
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts._module = angular.module(HawkularAccounts.pluginName, ['ui.bootstrap']);
    var accountsTab = undefined;
    var currentPersona = undefined;
    HawkularAccounts._module.config(['$locationProvider', '$routeProvider', '$httpProvider', 'HawtioNavBuilderProvider', function ($locationProvider, $routeProvider, $httpProvider, builder) {
        accountsTab = builder.create().id(HawkularAccounts.pluginName).title(function () { return "Accounts"; }).href(function () { return "/accounts"; }).subPath("My account", "accounts", builder.join(HawkularAccounts.templatePath, 'accounts.html')).subPath("Organizations", "organizations", builder.join(HawkularAccounts.templatePath, 'organizations.html')).build();
        builder.configureRouting($routeProvider, accountsTab);
        $routeProvider.when('/accounts/organizations/new', { templateUrl: builder.join(HawkularAccounts.templatePath, 'organization_new.html') });
        $locationProvider.html5Mode(true);
        $httpProvider.interceptors.push(PersonaInterceptorService.Factory);
    }]);
    HawkularAccounts._module.run(['$rootScope', '$log', '$modal', '$document', 'userDetails', 'HawtioNav', 'HawkularInventory', function ($rootScope, $log, $modal, $document, userDetails, HawtioNav, hawkularInventory) {
        $rootScope.userDetails = userDetails;
        $rootScope.$on('IdleStart', function () {
            $('#idle').slideDown();
        });
        $rootScope.$on('IdleEnd', function () {
            $("#idle").slideUp();
        });
        $rootScope.$on('IdleTimeout', function () {
            $log.debug('Idle timeout');
            $document.find('body').eq(0).addClass('inactivity-modal-open');
            $modal.open({
                templateUrl: 'plugins/accounts/html/inactivityModal.html',
                backdrop: 'static'
            });
        });
        var initializeInventory = function (tenantId) {
            var addTenant = function () {
                var tenant = {
                    id: tenantId
                };
                return hawkularInventory.Tenant.save(tenant).$promise;
            };
            var addEnvironment = function () {
                var environment = {
                    id: 'test'
                };
                return hawkularInventory.Environment.save({ tenantId: tenantId }, environment).$promise;
            };
            var addResourceType = function () {
                var resourceType = {
                    id: 'URL',
                    version: '1.0'
                };
                return hawkularInventory.ResourceType.save({ tenantId: tenantId }, resourceType).$promise;
            };
            var addMetricType = function (id, units) {
                var metricType = {
                    id: id,
                    unit: units
                };
                return hawkularInventory.MetricType.save({ tenantId: tenantId }, metricType).$promise;
            };
            var notify = function () { return $rootScope.$emit("UserInitialized", tenantId); };
            var err = function (error, msg) {
                toastr.error(msg);
            };
            addTenant().then(function () { return addEnvironment().then(addResourceType).then(addMetricType('status.duration.type', 'MILLI_SECOND')).then(addMetricType('status.code.type', 'NONE')).then(notify).catch(function (e) {
                err(e, 'Error initializing the data for user.');
                notify();
            }); }, function () {
                console.log('Inventory has already beed initialized.');
                notify();
            });
        };
        $rootScope.$on('CurrentPersonaLoaded', function (e, persona) {
            currentPersona = persona;
            $rootScope.currentPersona = currentPersona;
            initializeInventory(currentPersona.id);
        });
        $rootScope.$on('SwitchedPersona', function (e, persona) {
            currentPersona = persona;
            $rootScope.currentPersona = currentPersona;
            initializeInventory(currentPersona.id);
        });
    }]);
    hawtioPluginLoader.registerPreBootstrapTask(function (next) {
        window['KeycloakConfig'] = "/keycloak.json";
        next();
    }, true);
    var PersonaInterceptorService = (function () {
        function PersonaInterceptorService($q) {
            this.$q = $q;
            this.request = function (request) {
                if (currentPersona) {
                    request.headers['X-Hawkular-Persona'] = currentPersona.id;
                }
                return request;
            };
        }
        PersonaInterceptorService.Factory = function ($q) {
            return new PersonaInterceptorService($q);
        };
        PersonaInterceptorService.$inject = ['$q'];
        return PersonaInterceptorService;
    })();
    hawtioPluginLoader.addModule(HawkularAccounts.pluginName);
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.OrganizationsController = HawkularAccounts._module.controller("HawkularAccounts.OrganizationsController", [
        '$rootScope',
        '$scope',
        'HawkularAccounts.OrganizationService',
        '$log',
        '$location',
        function ($rootScope, $scope, OrganizationService, $log, $location) {
            $scope.organizations = [];
            $scope.loading = true;
            $scope.load = function () {
                $scope.loadOrganizations();
            };
            $scope.loadOrganizations = function () {
                $scope.organizations = [];
                $scope.loading = true;
                $scope.organizations = OrganizationService.query({}, function () {
                    $scope.loading = false;
                }, function () {
                    $log.warn("List of organizations could NOT be retrieved.");
                    $scope.loading = false;
                });
            };
            $scope.showCreateForm = function () {
                $location.path('/accounts/organizations/new');
            };
            $scope.remove = function (organization) {
                organization.$remove().then(function () {
                    $scope.$emit('OrganizationRemoved');
                    $scope.organizations.splice($scope.organizations.indexOf(organization), 1);
                });
            };
            $scope.load();
            $rootScope.$on('SwitchedPersona', function () {
                $scope.loadOrganizations();
            });
        }
    ]);
    HawkularAccounts.OrganizationNewController = HawkularAccounts._module.controller("HawkularAccounts.OrganizationNewController", [
        '$scope',
        'HawkularAccounts.OrganizationService',
        '$log',
        '$location',
        function ($scope, OrganizationService, $log, $location) {
            $scope.organizationNew = new OrganizationService({});
            $scope.persist = function () {
                $scope.organizationNew.$save({}, function () {
                    $scope.$emit('OrganizationCreated');
                    $location.path('/accounts/organizations');
                }, function () {
                    $log.debug("Organization could NOT be added.");
                });
                $log.debug("Trying to persist the organization");
            };
        }
    ]);
    HawkularAccounts.OrganizationService = HawkularAccounts._module.service("HawkularAccounts.OrganizationService", ["$resource", function ($resource) {
        return $resource('http://localhost:8080/hawkular-accounts/organizations/:id', { id: '@id' });
    }]);
    HawkularAccounts._module.requires.push("ngResource");
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.PersonaController = HawkularAccounts._module.controller("HawkularAccounts.PersonaController", [
        '$rootScope',
        '$scope',
        'HawkularAccounts.PersonaService',
        '$log',
        function ($rootScope, $scope, PersonaService, $log) {
            $scope.personas = [];
            $scope.currentPersona = null;
            $scope.load = function () {
                $scope.loadCurrentPersona();
            };
            $scope.loadCurrentPersona = function () {
                $scope.currentPersona = PersonaService.get({ id: "current" }, function () {
                    $scope.$emit("CurrentPersonaLoaded", $scope.currentPersona);
                }, function () {
                    $log.warn("Failed in retrieving the current persona");
                });
            };
            $scope.loadPersonas = function () {
                $scope.personas = PersonaService.query({}, function () {
                    $scope.personas = $scope.personas.filter(function (persona) {
                        return persona.id !== $scope.currentPersona.id;
                    });
                    $scope.loading = false;
                }, function () {
                    $log.warn("List of personas could NOT be retrieved.");
                    $scope.loading = false;
                });
            };
            $scope.switchPersona = function (persona) {
                $scope.personas.push($scope.currentPersona);
                $scope.currentPersona = persona;
                $scope.personas = $scope.personas.filter(function (persona) {
                    return persona.id !== $scope.currentPersona.id;
                });
                $scope.$emit("SwitchedPersona", persona);
            };
            $rootScope.$on('CurrentPersonaLoaded', function () {
                $scope.loadPersonas();
            });
            $rootScope.$on('OrganizationCreated', function () {
                $scope.loadPersonas();
            });
            $rootScope.$on('OrganizationRemoved', function () {
                $scope.loadPersonas();
            });
            $scope.load();
        }
    ]);
    HawkularAccounts.PersonaService = HawkularAccounts._module.service("HawkularAccounts.PersonaService", ["$resource", function ($resource) {
        return $resource('http://localhost:8080/hawkular-accounts/personas/:id', { id: '@id' });
    }]);
    HawkularAccounts._module.requires.push("ngResource");
})(HawkularAccounts || (HawkularAccounts = {}));

angular.module("hawkular-ui-components-accounts-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/accounts/html/accounts.html","<div class=\"row\">\n    <div class=\"col-md-12\">\n        <h1>Accounts</h1>\n        Your account can be managed directly at <a href=\"http://localhost:8080/auth/realms/hawkular/account\">Keycloak</a>.\n    </div>\n</div>\n");
$templateCache.put("plugins/accounts/html/inactivityModal.html","<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Session expired</h3>\n</div>\n<div class=\"modal-body\">\n    Due to inactivity, we had to close your session.\n</div>\n<div class=\"modal-footer\">\n    <button id=\"logoutBtn\" class=\"btn btn-primary\" data-ng-click=\"userDetails.logout()\">Login again</button>\n</div>");
$templateCache.put("plugins/accounts/html/organization_new.html","<div class=\"row\">\n    <div class=\"col-md-12\" data-ng-controller=\"HawkularAccounts.OrganizationNewController\">\n        <ol class=\"breadcrumb\">\n            <li><a data-ng-href=\"/\">Hawkular</a></li>\n            <li><a data-ng-href=\"/\">Accounts</a></li>\n            <li><a data-ng-href=\"/accounts/organizations\">Organizations</a></li>\n        </ol>\n        <h1>\n            Add Organization\n        </h1>\n\n        <form role=\"form\" class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label for=\"name\" class=\"col-md-2 control-label\">Name <span class=\"required\">*</span> </label>\n                <div class=\"col-md-6\">\n                    <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Name\"\n                           data-ng-model=\"organizationNew.name\">\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"description\" class=\"col-md-2 control-label\">Description</label>\n                <div class=\"col-md-6\">\n                    <input type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"Description\"\n                           data-ng-model=\"organizationNew.description\">\n                </div>\n            </div>\n            <div class=\"col-md-8\">\n                <div class=\"pull-right\">\n                    <a data-ng-href=\"/accounts/organizations\" class=\"btn btn-default btn-lg\">Cancel</a>\n                    <button data-ng-click=\"persist()\" type=\"submit\" class=\"btn btn-primary btn-lg\">Save</button>\n                </div>\n            </div>\n\n        </form>\n    </div><!-- /col -->\n</div><!-- /row -->\n");
$templateCache.put("plugins/accounts/html/organizations.html","<div class=\"row\">\n    <div class=\"col-md-12\" data-ng-controller=\"HawkularAccounts.OrganizationsController\">\n        <ol class=\"breadcrumb\">\n            <li><a data-ng-href=\"/\">Hawkular</a></li>\n            <li><a data-ng-href=\"/\">Accounts</a></li>\n            <li><a data-ng-href=\"/accounts/organizations\">Organizations</a></li>\n        </ol>\n        <div class=\"pull-right\">\n            <button class=\"btn btn-primary\" type=\"button\" role=\"button\" data-ng-click=\"showCreateForm()\">Create</button>\n        </div>\n\n        <h1>Organizations</h1>\n        <div class=\"progress-description\" data-ng-show=\"loading\">\n            <div class=\"spinner spinner-xs spinner-inline\"></div> <strong>Loading:</strong> Organizations\n        </div>\n        <div class=\"row\" data-ng-show=\"!organizations.length && !loading\">\n            <div class=\"col-sm-6\">\n                No organizations yet. How about creating one?\n            </div>\n        </div>\n\n        <div data-ng-show=\"organizations.length && !loading\">\n            <table class=\"table table-striped table-bordered\">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Description</th>\n                        <th>&nbsp;</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr data-ng-repeat=\"organization in organizations\">\n                        <td>{{organization.name}}</td>\n                        <td>{{organization.description}}</td>\n                        <td>\n                            <button type=\"button\" class=\"btn btn-default\" aria-label=\"Remove\" data-ng-click=\"remove(organization)\">\n                                <span class=\"pficon pficon-delete\" aria-hidden=\"true\"></span>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div><!-- /col -->\n\n</div>\n</div>\n");}]); hawtioPluginLoader.addModule("hawkular-ui-components-accounts-templates");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpY2VuY2UudHh0IiwiYWNjb3VudHN2ZXJzaW9uLmpzIiwiL3NvdXJjZS9pbmNsdWRlcy5qcyIsIi9hY2NvdW50cy90cy9hY2NvdW50c0dsb2JhbHMudHMiLCIvYWNjb3VudHMvdHMvYWNjb3VudHNQbHVnaW4udHMiLCIvYWNjb3VudHMvdHMvb3JnYW5pemF0aW9ucy50cyIsIi9hY2NvdW50cy90cy9wZXJzb25hLnRzIiwidGVtcGxhdGVzLmpzIl0sIm5hbWVzIjpbIkhhd2t1bGFyQWNjb3VudHMiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UuY29uc3RydWN0b3IiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UuRmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2JBO0FDQUE7QUFDQTtBQ2VBLElBQU8sZ0JBQWdCLENBSXRCO0FBSkQsV0FBTyxnQkFBZ0IsRUFBQyxDQUFDO0lBQ1ZBLDJCQUFVQSxHQUFHQSxtQkFBbUJBLENBQUNBO0lBQ2pDQSxvQkFBR0EsR0FBa0JBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLDJCQUFVQSxDQUFDQSxDQUFDQTtJQUM1Q0EsNkJBQVlBLEdBQUdBLHVCQUF1QkEsQ0FBQ0E7QUFDdERBLENBQUNBLEVBSk0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUl0Qjs7QUNIRCxJQUFPLGdCQUFnQixDQXlJdEI7QUF6SUQsV0FBTyxnQkFBZ0IsRUFBQyxDQUFDO0lBQ1ZBLHdCQUFPQSxHQUFHQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLENBQUNBO0lBQ25GQSxJQUFJQSxXQUFXQSxH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LEVBQUVBO2dCQUNsQ0EsTUFBTUEsQ0FBQ0EsWUFBWUEsRUFBRUEsQ0FBQ0E7WUFDMUJBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLE1BQU1BLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO1FBQ2xCQSxDQUFDQTtLQUFDQSxDQUFDQSxDQUFDQTtJQUVHQSwrQkFBY0EsR0FBR0Esd0JBQU9BLENBQUNBLE9BQU9BLENBQUNBLGlDQUFpQ0EsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsVUFBQ0EsU0FBU0E7UUFDbkdBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLHNEQUFzREEsRUFBRUEsRUFBQ0EsRUFBRUEsRUFBQ0EsS0FBS0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDekZBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBRUpBLHdCQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQTtBQUN4Q0EsQ0FBQ0EsRUFuRU0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQW1FdEI7O0FDbkZEO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Imhhd2t1bGFyLXVpLWNvbXBvbmVudHMtYWNjb3VudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4iLCJpZiAodHlwZW9mIEhhd2t1bGFyQ29tcG9uZW50c1ZlcnNpb25zICE9PSAndW5kZWZpbmVkJykgeyBIYXdrdWxhckNvbXBvbmVudHNWZXJzaW9ucy5wdXNoKHtuYW1lOidhY2NvdW50cycsIHZlcnNpb246J2M1OTEzN2YgSFdLSU5WRU5ULTM4IFByb3BhZ2F0aW5nIHRoZSBjdXJyZW50UGVyc29uYS5pZCAofnRlbmFudCkgdG8gb3RoZXIgcGx1Z2lucy9kaXJlY3RpdmVzLid9KX0gZWxzZSB7SGF3a3VsYXJDb21wb25lbnRzVmVyc2lvbnMgPSBbe25hbWU6J2FjY291bnRzJywgdmVyc2lvbjonYzU5MTM3ZiBIV0tJTlZFTlQtMzggUHJvcGFnYXRpbmcgdGhlIGN1cnJlbnRQZXJzb25hLmlkICh+dGVuYW50KSB0byBvdGhlciBwbHVnaW5zL2RpcmVjdGl2ZXMuJ31dfTsiLG51bGwsIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG5tb2R1bGUgSGF3a3VsYXJBY2NvdW50cyB7XG4gICAgZXhwb3J0IHZhciBwbHVnaW5OYW1lID0gXCJoYXdrdWxhci1hY2NvdW50c1wiO1xuICAgIGV4cG9ydCB2YXIgbG9nOkxvZ2dpbmcuTG9nZ2VyID0gTG9nZ2VyLmdldChwbHVnaW5OYW1lKTtcbiAgICBleHBvcnQgdmFyIHRlbXBsYXRlUGF0aCA9IFwicGx1Z2lucy9hY2NvdW50cy9odG1sXCI7XG59XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cImFjY291bnRzR2xvYmFscy50c1wiLz5cbm1vZHVsZSBIYXdrdWxhckFjY291bnRzIHtcbiAgICBleHBvcnQgdmFyIF9tb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShIYXdrdWxhckFjY291bnRzLnBsdWdpbk5hbWUsIFsndWkuYm9vdHN0cmFwJ10pO1xuICAgIHZhciBhY2NvdW50c1RhYjphbnkgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGN1cnJlbnRQZXJzb25hOmFueSA9IHVuZGVmaW5lZDtcblxuICAgIF9tb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHJvdXRlUHJvdmlkZXInLCAnJGh0dHBQcm92aWRlcicsICdIYXd0aW9OYXZCdWlsZGVyUHJvdmlkZXInLCAoJGxvY2F0aW9uUHJvdmlkZXIsICRyb3V0ZVByb3ZpZGVyOm5nLnJvdXRlLklSb3V0ZVByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyOm5nLklIdHRwUHJvdmlkZXIsIGJ1aWxkZXI6SGF3dGlvTWFpbk5hdi5CdWlsZGVyRmFjdG9yeSkgPT4ge1xuICAgICAgICBhY2NvdW50c1RhYiA9IGJ1aWxkZXIuY3JlYXRlKClcbiAgICAgICAgICAgIC5pZChIYXdrdWxhckFjY291bnRzLnBsdWdpbk5hbWUpXG4gICAgICAgICAgICAudGl0bGUoKCkgPT4gXCJBY2NvdW50c1wiKVxuICAgICAgICAgICAgLmhyZWYoKCkgPT4gXCIvYWNjb3VudHNcIilcbiAgICAgICAgICAgIC5zdWJQYXRoKFwiTXkgYWNjb3VudFwiLCBcImFjY291bnRzXCIsIGJ1aWxkZXIuam9pbihIYXdrdWxhckFjY291bnRzLnRlbXBsYXRlUGF0aCwgJ2FjY291bnRzLmh0bWwnKSlcbiAgICAgICAgICAgIC5zdWJQYXRoKFwiT3JnYW5pemF0aW9uc1wiLCBcIm9yZ2FuaXphdGlvbnNcIiwgYnVpbGRlci5qb2luKEhhd2t1bGFyQWNjb3VudHMudGVtcGxhdGVQYXRoLCAnb3JnYW5pemF0aW9ucy5odG1sJykpXG4gICAgICAgICAgICAuYnVpbGQoKTtcbiAgICAgICAgYnVpbGRlci5jb25maWd1cmVSb3V0aW5nKCRyb3V0ZVByb3ZpZGVyLCBhY2NvdW50c1RhYik7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2FjY291bnRzL29yZ2FuaXphdGlvbnMvbmV3Jywge3RlbXBsYXRlVXJsOiBidWlsZGVyLmpvaW4oSGF3a3VsYXJBY2NvdW50cy50ZW1wbGF0ZVBhdGgsICdvcmdhbml6YXRpb25fbmV3Lmh0bWwnKX0pO1xuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goUGVyc29uYUludGVyY2VwdG9yU2VydmljZS5GYWN0b3J5KTtcbiAgICB9XSk7XG5cbiAgICBfbW9kdWxlLnJ1bihbJyRyb290U2NvcGUnLCAnJGxvZycsICckbW9kYWwnLCAnJGRvY3VtZW50JywgJ3VzZXJEZXRhaWxzJywgJ0hhd3Rpb05hdicsICdIYXdrdWxhckludmVudG9yeScsICgkcm9vdFNjb3BlLCAkbG9nLCAkbW9kYWwsICRkb2N1bWVudCwgdXNlckRldGFpbHMsIEhhd3Rpb05hdjpIYXd0aW9NYWluTmF2LlJlZ2lzdHJ5LCBoYXdrdWxhckludmVudG9yeSkgPT4ge1xuICAgICAgICAvL0hhd3Rpb05hdi5hZGQoYWNjb3VudHNUYWIpO1xuICAgICAgICAkcm9vdFNjb3BlLnVzZXJEZXRhaWxzID0gdXNlckRldGFpbHM7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ0lkbGVTdGFydCcsICgpID0+IHtcbiAgICAgICAgICAgICQoJyNpZGxlJykuc2xpZGVEb3duKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdJZGxlRW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgJChcIiNpZGxlXCIpLnNsaWRlVXAoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ0lkbGVUaW1lb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgJGxvZy5kZWJ1ZygnSWRsZSB0aW1lb3V0Jyk7XG4gICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLmFkZENsYXNzKCdpbmFjdGl2aXR5LW1vZGFsLW9wZW4nKTtcbiAgICAgICAgICAgICRtb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BsdWdpbnMvYWNjb3VudHMvaHRtbC9pbmFjdGl2aXR5TW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGluaXRpYWxpemVJbnZlbnRvcnkgPSAodGVuYW50SWQ6IHN0cmluZykgPT4ge1xuXG4gICAgICAgICAgICB2YXIgYWRkVGVuYW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB0ZW5hbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0ZW5hbnRJZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhd2t1bGFySW52ZW50b3J5LlRlbmFudC5zYXZlKHRlbmFudCkuJHByb21pc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYWRkRW52aXJvbm1lbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdG9kbzogZW52aXJvbm1lbnQgaXMgaGFyZC1jb2RlZCBoZXJlXG4gICAgICAgICAgICAgICAgdmFyIGVudmlyb25tZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ3Rlc3QnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGF3a3VsYXJJbnZlbnRvcnkuRW52aXJvbm1lbnQuc2F2ZSh7dGVuYW50SWQ6IHRlbmFudElkfSwgZW52aXJvbm1lbnQpLiRwcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFkZFJlc291cmNlVHlwZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VUeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ1VSTCcsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICcxLjAnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGF3a3VsYXJJbnZlbnRvcnkuUmVzb3VyY2VUeXBlLnNhdmUoe3RlbmFudElkOiB0ZW5hbnRJZH0sIHJlc291cmNlVHlwZSkuJHByb21pc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYWRkTWV0cmljVHlwZSA9IChpZDogc3RyaW5nLCB1bml0czogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1ldHJpY1R5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogdW5pdHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBoYXdrdWxhckludmVudG9yeS5NZXRyaWNUeXBlLnNhdmUoe3RlbmFudElkOiB0ZW5hbnRJZH0sIG1ldHJpY1R5cGUpLiRwcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG5vdGlmeSA9ICgpID0+ICRyb290U2NvcGUuJGVtaXQoXCJVc2VySW5pdGlhbGl6ZWRcIiwgdGVuYW50SWQpO1xuXG4gICAgICAgICAgICB2YXIgZXJyID0gKGVycm9yOiBhbnksIG1zZzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKG1zZyk7XG4gICAgICAgICAgICAgICAgLy8gdG9kbzogdXNlIEhhd2t1bGFyRXJyb3JNYW5hZ2VyIG9uY2UgaXQgaXMgYXZhaWxhYmxlIGluIHNoYXJlZCBzZXJ2aWNlc1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuSGF3a3VsYXJFcnJvck1hbmFnZXIuZXJyb3JIYW5kbGVyKGVycm9yLCBtc2cpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYWRkVGVuYW50KClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGFkZEVudmlyb25tZW50KClcbiAgICAgICAgICAgICAgICAudGhlbihhZGRSZXNvdXJjZVR5cGUpXG4gICAgICAgICAgICAgICAgLnRoZW4oYWRkTWV0cmljVHlwZSgnc3RhdHVzLmR1cmF0aW9uLnR5cGUnLCAnTUlMTElfU0VDT05EJykpXG4gICAgICAgICAgICAgICAgLnRoZW4oYWRkTWV0cmljVHlwZSgnc3RhdHVzLmNvZGUudHlwZScsICdOT05FJykpXG4gICAgICAgICAgICAgICAgLnRoZW4obm90aWZ5KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnIoZSwgJ0Vycm9yIGluaXRpYWxpemluZyB0aGUgZGF0YSBmb3IgdXNlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICwoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBjYWxsZWQgaWYgdGhlIHZlcnkgZmlyc3QgY2FsbCBpbiBjaGFpbiBmYWlscyBcbiAgICAgICAgICAgICAgICAvLyAodGVuYW50IGhhcyBiZWVuIGNyZWF0ZWQgc28gd2UgYXNzdW1lIHRoZSByZXN0IGlzIHRoZXJlIGFzIHdlbGwpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludmVudG9yeSBoYXMgYWxyZWFkeSBiZWVkIGluaXRpYWxpemVkLicpO1xuICAgICAgICAgICAgICAgIG5vdGlmeSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ0N1cnJlbnRQZXJzb25hTG9hZGVkJywgKGUsIHBlcnNvbmEpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRQZXJzb25hID0gcGVyc29uYTtcbiAgICAgICAgICAgICRyb290U2NvcGUuY3VycmVudFBlcnNvbmEgPSBjdXJyZW50UGVyc29uYTtcbiAgICAgICAgICAgIGluaXRpYWxpemVJbnZlbnRvcnkoY3VycmVudFBlcnNvbmEuaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignU3dpdGNoZWRQZXJzb25hJywgKGUsIHBlcnNvbmEpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRQZXJzb25hID0gcGVyc29uYTtcbiAgICAgICAgICAgICRyb290U2NvcGUuY3VycmVudFBlcnNvbmEgPSBjdXJyZW50UGVyc29uYTtcbiAgICAgICAgICAgIGluaXRpYWxpemVJbnZlbnRvcnkoY3VycmVudFBlcnNvbmEuaWQpO1xuICAgICAgICB9KTtcbiAgICB9XSk7XG5cbiAgICBoYXd0aW9QbHVnaW5Mb2FkZXIucmVnaXN0ZXJQcmVCb290c3RyYXBUYXNrKChuZXh0KSA9PiB7XG4gICAgICAgIHdpbmRvd1snS2V5Y2xvYWtDb25maWcnXSA9IFwiL2tleWNsb2FrLmpzb25cIjtcbiAgICAgICAgbmV4dCgpO1xuICAgIH0sIHRydWUpO1xuXG4gICAgY2xhc3MgUGVyc29uYUludGVyY2VwdG9yU2VydmljZSB7XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgJGluamVjdCA9IFsnJHEnXTtcblxuICAgICAgICBwdWJsaWMgc3RhdGljIEZhY3RvcnkoJHE6bmcuSVFTZXJ2aWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UoJHEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSAkcTpuZy5JUVNlcnZpY2UpIHtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQZXJzb25hKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzWydYLUhhd2t1bGFyLVBlcnNvbmEnXSA9IGN1cnJlbnRQZXJzb25hLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaGF3dGlvUGx1Z2luTG9hZGVyLmFkZE1vZHVsZShIYXdrdWxhckFjY291bnRzLnBsdWdpbk5hbWUpO1xufVxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhY2NvdW50c1BsdWdpbi50c1wiLz5cbm1vZHVsZSBIYXdrdWxhckFjY291bnRzIHtcblxuICAgIGV4cG9ydCB2YXIgT3JnYW5pemF0aW9uc0NvbnRyb2xsZXIgPSBfbW9kdWxlLmNvbnRyb2xsZXIoXCJIYXdrdWxhckFjY291bnRzLk9yZ2FuaXphdGlvbnNDb250cm9sbGVyXCIsIFtcbiAgICAgICAgJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ0hhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uU2VydmljZScsICckbG9nJywgJyRsb2NhdGlvbicsXG4gICAgICAgICgkcm9vdFNjb3BlLCAkc2NvcGUsIE9yZ2FuaXphdGlvblNlcnZpY2UsICRsb2csICRsb2NhdGlvbikgPT4ge1xuXG4gICAgICAgICAgICAkc2NvcGUub3JnYW5pemF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAkc2NvcGUubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZE9yZ2FuaXphdGlvbnMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkT3JnYW5pemF0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnYW5pemF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnYW5pemF0aW9ucyA9IE9yZ2FuaXphdGlvblNlcnZpY2UucXVlcnkoe30sXG4gICAgICAgICAgICAgICAgICAgICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZy53YXJuKFwiTGlzdCBvZiBvcmdhbml6YXRpb25zIGNvdWxkIE5PVCBiZSByZXRyaWV2ZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJHNjb3BlLnNob3dDcmVhdGVGb3JtID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWNjb3VudHMvb3JnYW5pemF0aW9ucy9uZXcnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlID0gKG9yZ2FuaXphdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbi4kcmVtb3ZlKCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdPcmdhbml6YXRpb25SZW1vdmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3JnYW5pemF0aW9ucy5zcGxpY2UoJHNjb3BlLm9yZ2FuaXphdGlvbnMuaW5kZXhPZihvcmdhbml6YXRpb24pLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUubG9hZCgpO1xuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignU3dpdGNoZWRQZXJzb25hJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkT3JnYW5pemF0aW9ucygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1dKTtcblxuICAgIGV4cG9ydCB2YXIgT3JnYW5pemF0aW9uTmV3Q29udHJvbGxlciA9IF9tb2R1bGUuY29udHJvbGxlcihcIkhhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uTmV3Q29udHJvbGxlclwiLCBbXG4gICAgICAgICckc2NvcGUnLCAnSGF3a3VsYXJBY2NvdW50cy5Pcmdhbml6YXRpb25TZXJ2aWNlJywgJyRsb2cnLCAnJGxvY2F0aW9uJyxcbiAgICAgICAgKCRzY29wZSwgT3JnYW5pemF0aW9uU2VydmljZSwgJGxvZywgJGxvY2F0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25OZXcgPSBuZXcgT3JnYW5pemF0aW9uU2VydmljZSh7fSk7XG4gICAgICAgICAgICAkc2NvcGUucGVyc2lzdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3JnYW5pemF0aW9uTmV3LiRzYXZlKHt9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ09yZ2FuaXphdGlvbkNyZWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWNjb3VudHMvb3JnYW5pemF0aW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIk9yZ2FuaXphdGlvbiBjb3VsZCBOT1QgYmUgYWRkZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiVHJ5aW5nIHRvIHBlcnNpc3QgdGhlIG9yZ2FuaXphdGlvblwiKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcblxuICAgIGV4cG9ydCB2YXIgT3JnYW5pemF0aW9uU2VydmljZSA9IF9tb2R1bGUuc2VydmljZShcIkhhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uU2VydmljZVwiLCBbXCIkcmVzb3VyY2VcIiwgKCRyZXNvdXJjZSkgPT4ge1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vbG9jYWxob3N0OjgwODAvaGF3a3VsYXItYWNjb3VudHMvb3JnYW5pemF0aW9ucy86aWQnLCB7aWQ6J0BpZCd9KTtcbiAgICB9XSk7XG5cbiAgICBfbW9kdWxlLnJlcXVpcmVzLnB1c2goXCJuZ1Jlc291cmNlXCIpO1xufVxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhY2NvdW50c1BsdWdpbi50c1wiLz5cbm1vZHVsZSBIYXdrdWxhckFjY291bnRzIHtcblxuICAgIGV4cG9ydCB2YXIgUGVyc29uYUNvbnRyb2xsZXIgPSBfbW9kdWxlLmNvbnRyb2xsZXIoXCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFDb250cm9sbGVyXCIsIFtcbiAgICAgICAgJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ0hhd2t1bGFyQWNjb3VudHMuUGVyc29uYVNlcnZpY2UnLCAnJGxvZycsXG4gICAgICAgICgkcm9vdFNjb3BlLCAkc2NvcGUsIFBlcnNvbmFTZXJ2aWNlLCAkbG9nKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUucGVyc29uYXMgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGVyc29uYSA9IG51bGw7XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkQ3VycmVudFBlcnNvbmEoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkQ3VycmVudFBlcnNvbmEgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb25hID0gUGVyc29uYVNlcnZpY2UuZ2V0KHtpZDogXCJjdXJyZW50XCJ9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoXCJDdXJyZW50UGVyc29uYUxvYWRlZFwiLCAkc2NvcGUuY3VycmVudFBlcnNvbmEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLndhcm4oXCJGYWlsZWQgaW4gcmV0cmlldmluZyB0aGUgY3VycmVudCBwZXJzb25hXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkUGVyc29uYXMgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbmFzID0gUGVyc29uYVNlcnZpY2UucXVlcnkoe30sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZXJzb25hcyA9ICRzY29wZS5wZXJzb25hcy5maWx0ZXIoKHBlcnNvbmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVyc29uYS5pZCAhPT0gJHNjb3BlLmN1cnJlbnRQZXJzb25hLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLndhcm4oXCJMaXN0IG9mIHBlcnNvbmFzIGNvdWxkIE5PVCBiZSByZXRyaWV2ZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc3dpdGNoUGVyc29uYSA9IChwZXJzb25hKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbmFzLnB1c2goJHNjb3BlLmN1cnJlbnRQZXJzb25hKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudFBlcnNvbmEgPSBwZXJzb25hO1xuICAgICAgICAgICAgICAgICRzY29wZS5wZXJzb25hcyA9ICRzY29wZS5wZXJzb25hcy5maWx0ZXIoKHBlcnNvbmEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlcnNvbmEuaWQgIT09ICRzY29wZS5jdXJyZW50UGVyc29uYS5pZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoXCJTd2l0Y2hlZFBlcnNvbmFcIiwgcGVyc29uYSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignQ3VycmVudFBlcnNvbmFMb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRQZXJzb25hcygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdPcmdhbml6YXRpb25DcmVhdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkUGVyc29uYXMoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignT3JnYW5pemF0aW9uUmVtb3ZlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFBlcnNvbmFzKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLmxvYWQoKTtcbiAgICAgICAgfV0pO1xuXG4gICAgZXhwb3J0IHZhciBQZXJzb25hU2VydmljZSA9IF9tb2R1bGUuc2VydmljZShcIkhhd2t1bGFyQWNjb3VudHMuUGVyc29uYVNlcnZpY2VcIiwgW1wiJHJlc291cmNlXCIsICgkcmVzb3VyY2UpID0+IHtcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2hhd2t1bGFyLWFjY291bnRzL3BlcnNvbmFzLzppZCcsIHtpZDonQGlkJ30pO1xuICAgIH1dKTtcblxuICAgIF9tb2R1bGUucmVxdWlyZXMucHVzaChcIm5nUmVzb3VyY2VcIik7XG59XG4iLCJhbmd1bGFyLm1vZHVsZShcImhhd2t1bGFyLXVpLWNvbXBvbmVudHMtYWNjb3VudHMtdGVtcGxhdGVzXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoXCJwbHVnaW5zL2FjY291bnRzL2h0bWwvYWNjb3VudHMuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG4gICAgICAgIDxoMT5BY2NvdW50czwvaDE+XFxuICAgICAgICBZb3VyIGFjY291bnQgY2FuIGJlIG1hbmFnZWQgZGlyZWN0bHkgYXQgPGEgaHJlZj1cXFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2hhd2t1bGFyL2FjY291bnRcXFwiPktleWNsb2FrPC9hPi5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwicGx1Z2lucy9hY2NvdW50cy9odG1sL2luYWN0aXZpdHlNb2RhbC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgICA8aDMgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj5TZXNzaW9uIGV4cGlyZWQ8L2gzPlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgICBEdWUgdG8gaW5hY3Rpdml0eSwgd2UgaGFkIHRvIGNsb3NlIHlvdXIgc2Vzc2lvbi5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIGlkPVxcXCJsb2dvdXRCdG5cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiIGRhdGEtbmctY2xpY2s9XFxcInVzZXJEZXRhaWxzLmxvZ291dCgpXFxcIj5Mb2dpbiBhZ2FpbjwvYnV0dG9uPlxcbjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcInBsdWdpbnMvYWNjb3VudHMvaHRtbC9vcmdhbml6YXRpb25fbmV3Lmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCIgZGF0YS1uZy1jb250cm9sbGVyPVxcXCJIYXdrdWxhckFjY291bnRzLk9yZ2FuaXphdGlvbk5ld0NvbnRyb2xsZXJcXFwiPlxcbiAgICAgICAgPG9sIGNsYXNzPVxcXCJicmVhZGNydW1iXFxcIj5cXG4gICAgICAgICAgICA8bGk+PGEgZGF0YS1uZy1ocmVmPVxcXCIvXFxcIj5IYXdrdWxhcjwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBkYXRhLW5nLWhyZWY9XFxcIi9cXFwiPkFjY291bnRzPC9hPjwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGRhdGEtbmctaHJlZj1cXFwiL2FjY291bnRzL29yZ2FuaXphdGlvbnNcXFwiPk9yZ2FuaXphdGlvbnM8L2E+PC9saT5cXG4gICAgICAgIDwvb2w+XFxuICAgICAgICA8aDE+XFxuICAgICAgICAgICAgQWRkIE9yZ2FuaXphdGlvblxcbiAgICAgICAgPC9oMT5cXG5cXG4gICAgICAgIDxmb3JtIHJvbGU9XFxcImZvcm1cXFwiIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJuYW1lXFxcIiBjbGFzcz1cXFwiY29sLW1kLTIgY29udHJvbC1sYWJlbFxcXCI+TmFtZSA8c3BhbiBjbGFzcz1cXFwicmVxdWlyZWRcXFwiPio8L3NwYW4+IDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC02XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwibmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIk5hbWVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1uZy1tb2RlbD1cXFwib3JnYW5pemF0aW9uTmV3Lm5hbWVcXFwiPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiZGVzY3JpcHRpb25cXFwiIGNsYXNzPVxcXCJjb2wtbWQtMiBjb250cm9sLWxhYmVsXFxcIj5EZXNjcmlwdGlvbjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC02XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiZGVzY3JpcHRpb25cXFwiIHBsYWNlaG9sZGVyPVxcXCJEZXNjcmlwdGlvblxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLW1vZGVsPVxcXCJvcmdhbml6YXRpb25OZXcuZGVzY3JpcHRpb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtOFxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInB1bGwtcmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgZGF0YS1uZy1ocmVmPVxcXCIvYWNjb3VudHMvb3JnYW5pemF0aW9uc1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tbGdcXFwiPkNhbmNlbDwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1uZy1jbGljaz1cXFwicGVyc2lzdCgpXFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXFxcIj5TYXZlPC9idXR0b24+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPC9mb3JtPlxcbiAgICA8L2Rpdj48IS0tIC9jb2wgLS0+XFxuPC9kaXY+PCEtLSAvcm93IC0tPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcInBsdWdpbnMvYWNjb3VudHMvaHRtbC9vcmdhbml6YXRpb25zLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCIgZGF0YS1uZy1jb250cm9sbGVyPVxcXCJIYXdrdWxhckFjY291bnRzLk9yZ2FuaXphdGlvbnNDb250cm9sbGVyXFxcIj5cXG4gICAgICAgIDxvbCBjbGFzcz1cXFwiYnJlYWRjcnVtYlxcXCI+XFxuICAgICAgICAgICAgPGxpPjxhIGRhdGEtbmctaHJlZj1cXFwiL1xcXCI+SGF3a3VsYXI8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgZGF0YS1uZy1ocmVmPVxcXCIvXFxcIj5BY2NvdW50czwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBkYXRhLW5nLWhyZWY9XFxcIi9hY2NvdW50cy9vcmdhbml6YXRpb25zXFxcIj5Pcmdhbml6YXRpb25zPC9hPjwvbGk+XFxuICAgICAgICA8L29sPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIHJvbGU9XFxcImJ1dHRvblxcXCIgZGF0YS1uZy1jbGljaz1cXFwic2hvd0NyZWF0ZUZvcm0oKVxcXCI+Q3JlYXRlPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxoMT5Pcmdhbml6YXRpb25zPC9oMT5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWRlc2NyaXB0aW9uXFxcIiBkYXRhLW5nLXNob3c9XFxcImxvYWRpbmdcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInNwaW5uZXIgc3Bpbm5lci14cyBzcGlubmVyLWlubGluZVxcXCI+PC9kaXY+IDxzdHJvbmc+TG9hZGluZzo8L3N0cm9uZz4gT3JnYW5pemF0aW9uc1xcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiIGRhdGEtbmctc2hvdz1cXFwiIW9yZ2FuaXphdGlvbnMubGVuZ3RoICYmICFsb2FkaW5nXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICAgICAgICAgIE5vIG9yZ2FuaXphdGlvbnMgeWV0LiBIb3cgYWJvdXQgY3JlYXRpbmcgb25lP1xcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGRhdGEtbmctc2hvdz1cXFwib3JnYW5pemF0aW9ucy5sZW5ndGggJiYgIWxvYWRpbmdcXFwiPlxcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1ib3JkZXJlZFxcXCI+XFxuICAgICAgICAgICAgICAgIDx0aGVhZD5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkRlc2NyaXB0aW9uPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+Jm5ic3A7PC90aD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XFxuICAgICAgICAgICAgICAgIDx0Ym9keT5cXG4gICAgICAgICAgICAgICAgICAgIDx0ciBkYXRhLW5nLXJlcGVhdD1cXFwib3JnYW5pemF0aW9uIGluIG9yZ2FuaXphdGlvbnNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e29yZ2FuaXphdGlvbi5uYW1lfX08L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e29yZ2FuaXphdGlvbi5kZXNjcmlwdGlvbn19PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBhcmlhLWxhYmVsPVxcXCJSZW1vdmVcXFwiIGRhdGEtbmctY2xpY2s9XFxcInJlbW92ZShvcmdhbml6YXRpb24pXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwZmljb24gcGZpY29uLWRlbGV0ZVxcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxuICAgICAgICAgICAgPC90YWJsZT5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj48IS0tIC9jb2wgLS0+XFxuXFxuPC9kaXY+XFxuPC9kaXY+XFxuXCIpO31dKTsgaGF3dGlvUGx1Z2luTG9hZGVyLmFkZE1vZHVsZShcImhhd2t1bGFyLXVpLWNvbXBvbmVudHMtYWNjb3VudHMtdGVtcGxhdGVzXCIpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==