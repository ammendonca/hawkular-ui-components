/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.
if (typeof HawkularComponentsVersions !== 'undefined') { HawkularComponentsVersions.push({name:'accounts', version:'0734cf0 HWKINVENT-38 Initialize inventory with new persona.id if the user gets logged in or switched from different persona.'})} else {HawkularComponentsVersions = [{name:'accounts', version:'0734cf0 HWKINVENT-38 Initialize inventory with new persona.id if the user gets logged in or switched from different persona.'}]};


var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.pluginName = "hawkular-accounts";
    HawkularAccounts.log = Logger.get(HawkularAccounts.pluginName);
    HawkularAccounts.templatePath = "plugins/accounts/html";
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts._module = angular.module(HawkularAccounts.pluginName, ['ui.bootstrap']);
    var accountsTab = undefined;
    var currentPersona = undefined;
    HawkularAccounts._module.config(['$locationProvider', '$routeProvider', '$httpProvider', 'HawtioNavBuilderProvider', function ($locationProvider, $routeProvider, $httpProvider, builder) {
        accountsTab = builder.create().id(HawkularAccounts.pluginName).title(function () { return "Accounts"; }).href(function () { return "/accounts"; }).subPath("My account", "accounts", builder.join(HawkularAccounts.templatePath, 'accounts.html')).subPath("Organizations", "organizations", builder.join(HawkularAccounts.templatePath, 'organizations.html')).build();
        builder.configureRouting($routeProvider, accountsTab);
        $routeProvider.when('/accounts/organizations/new', { templateUrl: builder.join(HawkularAccounts.templatePath, 'organization_new.html') });
        $locationProvider.html5Mode(true);
        $httpProvider.interceptors.push(PersonaInterceptorService.Factory);
    }]);
    HawkularAccounts._module.run(['$rootScope', '$log', '$modal', '$document', 'userDetails', 'HawtioNav', 'HawkularInventory', function ($rootScope, $log, $modal, $document, userDetails, HawtioNav, hawkularInventory) {
        $rootScope.userDetails = userDetails;
        $rootScope.$on('IdleStart', function () {
            $('#idle').slideDown();
        });
        $rootScope.$on('IdleEnd', function () {
            $("#idle").slideUp();
        });
        $rootScope.$on('IdleTimeout', function () {
            $log.debug('Idle timeout');
            $document.find('body').eq(0).addClass('inactivity-modal-open');
            $modal.open({
                templateUrl: 'plugins/accounts/html/inactivityModal.html',
                backdrop: 'static'
            });
        });
        var initializeInventory = function (tenantId) {
            var addTenant = function () {
                var tenant = {
                    id: tenantId
                };
                return hawkularInventory.Tenant.save(tenant).$promise;
            };
            var addEnvironment = function () {
                var environment = {
                    id: 'test'
                };
                return hawkularInventory.Environment.save({ tenantId: tenantId }, environment).$promise;
            };
            var addResourceType = function () {
                var resourceType = {
                    id: 'URL',
                    version: '1.0'
                };
                return hawkularInventory.ResourceType.save({ tenantId: tenantId }, resourceType).$promise;
            };
            var addMetricType = function (id, units) {
                var metricType = {
                    id: id,
                    unit: units
                };
                return hawkularInventory.MetricType.save({ tenantId: tenantId }, metricType).$promise;
            };
            var err = function (error, msg) {
                toastr.error(msg);
            };
            addTenant().then(addEnvironment).then(addResourceType).then(addMetricType('status.duration.type', 'MILLI_SECOND')).then(addMetricType('status.code.type', 'NONE')).catch(function (e) { return err(e, 'Error initializing the inventory.'); });
        };
        $rootScope.$on('CurrentPersonaLoaded', function (e, persona) {
            currentPersona = persona;
            $rootScope.currentPersona = currentPersona;
            initializeInventory(currentPersona.id);
        });
        $rootScope.$on('SwitchedPersona', function (e, persona) {
            currentPersona = persona;
            $rootScope.currentPersona = currentPersona;
            initializeInventory(currentPersona.id);
        });
    }]);
    hawtioPluginLoader.registerPreBootstrapTask(function (next) {
        window['KeycloakConfig'] = "/keycloak.json";
        next();
    }, true);
    var PersonaInterceptorService = (function () {
        function PersonaInterceptorService($q) {
            this.$q = $q;
            this.request = function (request) {
                if (currentPersona) {
                    request.headers['X-Hawkular-Persona'] = currentPersona.id;
                }
                return request;
            };
        }
        PersonaInterceptorService.Factory = function ($q) {
            return new PersonaInterceptorService($q);
        };
        PersonaInterceptorService.$inject = ['$q'];
        return PersonaInterceptorService;
    })();
    hawtioPluginLoader.addModule(HawkularAccounts.pluginName);
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.OrganizationsController = HawkularAccounts._module.controller("HawkularAccounts.OrganizationsController", [
        '$rootScope',
        '$scope',
        'HawkularAccounts.OrganizationService',
        '$log',
        '$location',
        function ($rootScope, $scope, OrganizationService, $log, $location) {
            $scope.organizations = [];
            $scope.loading = true;
            $scope.load = function () {
                $scope.loadOrganizations();
            };
            $scope.loadOrganizations = function () {
                $scope.organizations = [];
                $scope.loading = true;
                $scope.organizations = OrganizationService.query({}, function () {
                    $scope.loading = false;
                }, function () {
                    $log.warn("List of organizations could NOT be retrieved.");
                    $scope.loading = false;
                });
            };
            $scope.showCreateForm = function () {
                $location.path('/accounts/organizations/new');
            };
            $scope.remove = function (organization) {
                organization.$remove().then(function () {
                    $scope.$emit('OrganizationRemoved');
                    $scope.organizations.splice($scope.organizations.indexOf(organization), 1);
                });
            };
            $scope.load();
            $rootScope.$on('SwitchedPersona', function () {
                $scope.loadOrganizations();
            });
        }
    ]);
    HawkularAccounts.OrganizationNewController = HawkularAccounts._module.controller("HawkularAccounts.OrganizationNewController", [
        '$scope',
        'HawkularAccounts.OrganizationService',
        '$log',
        '$location',
        function ($scope, OrganizationService, $log, $location) {
            $scope.organizationNew = new OrganizationService({});
            $scope.persist = function () {
                $scope.organizationNew.$save({}, function () {
                    $scope.$emit('OrganizationCreated');
                    $location.path('/accounts/organizations');
                }, function () {
                    $log.debug("Organization could NOT be added.");
                });
                $log.debug("Trying to persist the organization");
            };
        }
    ]);
    HawkularAccounts.OrganizationService = HawkularAccounts._module.service("HawkularAccounts.OrganizationService", ["$resource", function ($resource) {
        return $resource('http://localhost:8080/hawkular-accounts/organizations/:id', { id: '@id' });
    }]);
    HawkularAccounts._module.requires.push("ngResource");
})(HawkularAccounts || (HawkularAccounts = {}));

var HawkularAccounts;
(function (HawkularAccounts) {
    HawkularAccounts.PersonaController = HawkularAccounts._module.controller("HawkularAccounts.PersonaController", [
        '$rootScope',
        '$scope',
        'HawkularAccounts.PersonaService',
        '$log',
        function ($rootScope, $scope, PersonaService, $log) {
            $scope.personas = [];
            $scope.currentPersona = null;
            $scope.load = function () {
                $scope.loadCurrentPersona();
            };
            $scope.loadCurrentPersona = function () {
                $scope.currentPersona = PersonaService.get({ id: "current" }, function () {
                    $scope.$emit("CurrentPersonaLoaded", $scope.currentPersona);
                }, function () {
                    $log.warn("Failed in retrieving the current persona");
                });
            };
            $scope.loadPersonas = function () {
                $scope.personas = PersonaService.query({}, function () {
                    $scope.personas = $scope.personas.filter(function (persona) {
                        return persona.id !== $scope.currentPersona.id;
                    });
                    $scope.loading = false;
                }, function () {
                    $log.warn("List of personas could NOT be retrieved.");
                    $scope.loading = false;
                });
            };
            $scope.switchPersona = function (persona) {
                $scope.personas.push($scope.currentPersona);
                $scope.currentPersona = persona;
                $scope.personas = $scope.personas.filter(function (persona) {
                    return persona.id !== $scope.currentPersona.id;
                });
                $scope.$emit("SwitchedPersona", persona);
            };
            $rootScope.$on('CurrentPersonaLoaded', function () {
                $scope.loadPersonas();
            });
            $rootScope.$on('OrganizationCreated', function () {
                $scope.loadPersonas();
            });
            $rootScope.$on('OrganizationRemoved', function () {
                $scope.loadPersonas();
            });
            $scope.load();
        }
    ]);
    HawkularAccounts.PersonaService = HawkularAccounts._module.service("HawkularAccounts.PersonaService", ["$resource", function ($resource) {
        return $resource('http://localhost:8080/hawkular-accounts/personas/:id', { id: '@id' });
    }]);
    HawkularAccounts._module.requires.push("ngResource");
})(HawkularAccounts || (HawkularAccounts = {}));

angular.module("hawkular-ui-components-accounts-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/accounts/html/accounts.html","<div class=\"row\">\n    <div class=\"col-md-12\">\n        <h1>Accounts</h1>\n        Your account can be managed directly at <a href=\"http://localhost:8080/auth/realms/hawkular/account\">Keycloak</a>.\n    </div>\n</div>\n");
$templateCache.put("plugins/accounts/html/inactivityModal.html","<div class=\"modal-header\">\n    <h3 class=\"modal-title\">Session expired</h3>\n</div>\n<div class=\"modal-body\">\n    Due to inactivity, we had to close your session.\n</div>\n<div class=\"modal-footer\">\n    <button id=\"logoutBtn\" class=\"btn btn-primary\" data-ng-click=\"userDetails.logout()\">Login again</button>\n</div>");
$templateCache.put("plugins/accounts/html/organization_new.html","<div class=\"row\">\n    <div class=\"col-md-12\" data-ng-controller=\"HawkularAccounts.OrganizationNewController\">\n        <ol class=\"breadcrumb\">\n            <li><a data-ng-href=\"/\">Hawkular</a></li>\n            <li><a data-ng-href=\"/\">Accounts</a></li>\n            <li><a data-ng-href=\"/accounts/organizations\">Organizations</a></li>\n        </ol>\n        <h1>\n            Add Organization\n        </h1>\n\n        <form role=\"form\" class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label for=\"name\" class=\"col-md-2 control-label\">Name <span class=\"required\">*</span> </label>\n                <div class=\"col-md-6\">\n                    <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Name\"\n                           data-ng-model=\"organizationNew.name\">\n                </div>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"description\" class=\"col-md-2 control-label\">Description</label>\n                <div class=\"col-md-6\">\n                    <input type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"Description\"\n                           data-ng-model=\"organizationNew.description\">\n                </div>\n            </div>\n            <div class=\"col-md-8\">\n                <div class=\"pull-right\">\n                    <a data-ng-href=\"/accounts/organizations\" class=\"btn btn-default btn-lg\">Cancel</a>\n                    <button data-ng-click=\"persist()\" type=\"submit\" class=\"btn btn-primary btn-lg\">Save</button>\n                </div>\n            </div>\n\n        </form>\n    </div><!-- /col -->\n</div><!-- /row -->\n");
$templateCache.put("plugins/accounts/html/organizations.html","<div class=\"row\">\n    <div class=\"col-md-12\" data-ng-controller=\"HawkularAccounts.OrganizationsController\">\n        <ol class=\"breadcrumb\">\n            <li><a data-ng-href=\"/\">Hawkular</a></li>\n            <li><a data-ng-href=\"/\">Accounts</a></li>\n            <li><a data-ng-href=\"/accounts/organizations\">Organizations</a></li>\n        </ol>\n        <div class=\"pull-right\">\n            <button class=\"btn btn-primary\" type=\"button\" role=\"button\" data-ng-click=\"showCreateForm()\">Create</button>\n        </div>\n\n        <h1>Organizations</h1>\n        <div class=\"progress-description\" data-ng-show=\"loading\">\n            <div class=\"spinner spinner-xs spinner-inline\"></div> <strong>Loading:</strong> Organizations\n        </div>\n        <div class=\"row\" data-ng-show=\"!organizations.length && !loading\">\n            <div class=\"col-sm-6\">\n                No organizations yet. How about creating one?\n            </div>\n        </div>\n\n        <div data-ng-show=\"organizations.length && !loading\">\n            <table class=\"table table-striped table-bordered\">\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Description</th>\n                        <th>&nbsp;</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr data-ng-repeat=\"organization in organizations\">\n                        <td>{{organization.name}}</td>\n                        <td>{{organization.description}}</td>\n                        <td>\n                            <button type=\"button\" class=\"btn btn-default\" aria-label=\"Remove\" data-ng-click=\"remove(organization)\">\n                                <span class=\"pficon pficon-delete\" aria-hidden=\"true\"></span>\n                            </button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div><!-- /col -->\n\n</div>\n</div>\n");}]); hawtioPluginLoader.addModule("hawkular-ui-components-accounts-templates");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpY2VuY2UudHh0IiwiYWNjb3VudHN2ZXJzaW9uLmpzIiwiL3NvdXJjZS9pbmNsdWRlcy5qcyIsIi9hY2NvdW50cy90cy9hY2NvdW50c0dsb2JhbHMudHMiLCIvYWNjb3VudHMvdHMvYWNjb3VudHNQbHVnaW4udHMiLCIvYWNjb3VudHMvdHMvb3JnYW5pemF0aW9ucy50cyIsIi9hY2NvdW50cy90cy9wZXJzb25hLnRzIiwidGVtcGxhdGVzLmpzIl0sIm5hbWVzIjpbIkhhd2t1bGFyQWNjb3VudHMiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UuY29uc3RydWN0b3IiLCJIYXdrdWxhckFjY291bnRzLlBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UuRmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2JBO0FDQUE7QUFDQTtBQ2VBLElBQU8sZ0JBQWdCLENBSXRCO0FBSkQsV0FBTyxnQkFBZ0IsRUFBQyxDQUFDO0lBQ1ZBLDJCQUFVQSxHQUFHQSxtQkFBbUJBLENBQUNBO0lBQ2pDQSxvQkFBR0EsR0FBa0JBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLDJCQUFVQSxDQUFDQSxDQUFDQTtJQUM1Q0EsNkJBQVlBLEdBQUdBLHVCQUF1QkEsQ0FBQ0E7QUFDdERBLENBQUNBLEVBSk0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUl0Qjs7QUNIRCxJQUFPLGdCQUFnQixDQTZIdEI7QUE3SEQsV0FBTyxnQkFBZ0IsRUFBQyxDQUFDO0lBQ1ZBLHdCQUFPQSxHQUFHQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLENBQUNBO0lBQ25GQSxJQUFJQSxXQUFXQSxHQUFPQSxTQUFTQSxDQUFDQTtJQUNoQ0EsSUFBSUEsY0FBY0EsR0FBT0EsU0FBU0EsQ0FBQ0E7SUFFbkNBLHdCQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxtQkFBbUJBLEVBQUVBLGdCQUFnQkEsRUFBRUEsZUFBZUEsRUFBRUEsMEJBQTBCQSxFQUFFQSxVQUFDQSxpQkFBaUJBLEVBQUVBLGNBQXNDQSxFQUFFQSxhQUE4QkEsRUFBRUEsT0FBb0NBO1FBQ2hPQSxXQUFXQSxHQUFHQSxPQUFPQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUN6QkEsRUFBRUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUMvQkEsS0FBS0EsQ0FBQ0EsY0FBTUEsaUJBQVVBLEVBQVZBLENBQVVBLENBQUNBLENBQ3ZCQSxJQUFJQSxDQUFDQSxjQUFNQSxrQkFBV0EsRUFBWEEsQ0FBV0EsQ0FBQ0EsQ0FDdkJBLE9BQU9BLENBQUNBLFlBQVlBLEVBQUVBLFVBQVVBLEVBQUVBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsWUFBWUEsRUFBRUEsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FDL0ZBLE9BQU9BLENBQUNBLGVBQWVBLEVBQUVBLGVBQWVBLEVBQUVBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsWUFBWUEsRUFBRUEsb0JBQW9CQSxDQUFDQSxDQUFDQSxDQUM1R0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDYkEsT0FBT0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxjQUFjQSxFQUFFQSxXQUFXQSxDQUFDQSxDQUFDQTtRQUV0REEsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsNkJBQTZCQSxFQUFFQSxFQUFDQSxXQUFXQSxFQUFFQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFlBQVlBLEVBQUVBLHVCQUF1QkEsQ0FBQ0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDeElBLGlCQUFpQkEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDbENBLGFBQWFBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7SUFDdkVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBRUpBLHdCQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxZQUFZQSxFQUFFQSxNQUFNQSxFQUFFQSxRQUFRQSxFQUFFQSxXQUFXQSxFQUFFQSxhQUFhQSxFQUFFQSxXQUFXQSxFQUFFQSxtQkFBbUJBLEVBQUVBLFVBQUNBLFVBQVVBLEVBQUVBLElBQUlBLEVBQUVBLE1BQU1BLEVBQUVBLFNBQVNBLEVBQUVBLFdBQVdBLEVBQUVBLFNBQWdDQSxFQUFFQSxpQkFBaUJBO1FBRTdNQSxVQUFVQSxDQUFDQSxXQUFXQSxHQUFHQSxXQUFXQSxDQUFDQTtRQUVyQ0EsVUFBVUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsV0FBV0EsRUFBRUE7WUFDeEJBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1FBQzNCQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVIQSxVQUFVQSxDQUFDQSxHQUFHQSxDQUFDQSxTQUFTQSxFQUFFQTtZQUN0QkEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDekJBLENBQUNBLENBQUNBLENBQUNBO1FBRUhBLFVBQVVBLENBQUNBLEdBQUdBLENBQUNBLGFBQWFBLEVBQUVBO1lBQzFCQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtZQUMzQkEsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxDQUFDQTtZQUMvREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7Z0JBQ1JBLFdBQVdBLEVBQUVBLDRDQUE0Q0E7Z0JBQ3pEQSxRQUFRQSxFQUFFQSxRQUFRQTthQUNyQkEsQ0FBQ0EsQ0FBQ0E7UUFDUEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFFSEEsSUFBSUEsbUJBQW1CQSxHQUFHQSxVQUFDQSxRQUFnQkE7WUFFdkNBLElBQUlBLFNBQVNBLEdBQUdBO2dCQUNaQSxJQUFJQSxNQUFNQSxHQUFHQTtvQkFDVEEsRUFBRUEsRUFBRUEsUUFBUUE7aUJBQ2ZBLENBQUNBO2dCQUNGQSxNQUFNQSxDQUFDQSxpQkFBaUJBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLFFBQVFBLENBQUNBO1lBQzFEQSxDQUFDQSxDQUFDQTtZQUVGQSxJQUFJQSxjQUFjQSxHQUFHQTtnQkFFakJBLElBQUlBLFdBQVdBLEdBQUdBO29CQUNkQSxFQUFFQSxFQUFFQSxNQUFNQTtpQkFDYkEsQ0FBQ0E7Z0JBQ0ZBLE1BQU1BLENBQUNBLGlCQUFpQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsRUFBQ0EsUUFBUUEsRUFBRUEsUUFBUUEsRUFBQ0EsRUFBRUEsV0FBV0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0E7WUFDMUZBLENBQUNBLENBQUNBO1lBRUZBLElBQUlBLGVBQWVBLEdBQUdBO2dCQUNsQkEsSUFBSUEsWUFBWUEsR0FBR0E7b0JBQ2ZBLEVBQUVBLEVBQUVBLEtBQUtBO29CQUNUQSxPQUFPQSxFQUFFQSxLQUFLQTtpQkFDakJBLENBQUNBO2dCQUNGQSxNQUFNQSxDQUFDQSxpQkFBaUJBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLEVBQUNBLFFBQVFBLEVBQUVBLFFBQVFBLEVBQUNBLEVBQUVBLFlBQVlBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBO1lBQzVGQSxDQUFDQSxDQUFDQTtZQUVGQSxJQUFJQSxhQUFhQSxHQUFHQSxVQUFDQSxFQUFVQSxFQUFFQSxLQUFhQTtnQkFDMUNBLElBQUlBLFVBQVVBLEdBQUdBO29CQUNiQSxFQUFFQSxFQUFFQSxFQUFFQTtvQkFDTkEsSUFBSUEsRUFBRUEsS0FBS0E7aUJBQ2RBLENBQUNBO2dCQUNGQSxNQUFNQSxDQUFDQSxpQkFBaUJBLENBQUNBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLEVBQUNBLFFBQVFBLEVBQUVBLFFBQVFBLEVBQUNBLEVBQUVBLFVBQVVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBO1lBQ3hGQSxDQUFDQSxDQUFDQTtZQUVGQSxJQUFJQSxHQUFHQSxHQUFHQSxVQUFDQSxLQUFVQSxFQUFFQSxHQUFXQTtnQkFDOUJBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1lBR3RCQSxDQUFDQSxDQUFDQTtZQUVGQSxTQUFTQSxFQUFFQSxDQUNWQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUNwQkEsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FDckJBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLHNCQUFzQkEsRUFBRUEsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FDM0RBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLGtCQUFrQkEsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FDL0NBLEtBQUtBLENBQUNBLFVBQUNBLENBQUNBLElBQUtBLE9BQUFBLEdBQUdBLENBQUNBLENBQUNBLEVBQUVBLG1DQUFtQ0EsQ0FBQ0EsRUFBM0NBLENBQTJDQSxDQUFDQSxDQUFDQTtRQUMvREEsQ0FBQ0EsQ0FBQ0E7UUFFRkEsVUFBVUEsQ0FBQ0EsR0FBR0EsQ0FBQ0Esc0JBQXNCQSxFQUFFQSxVQUFDQSxDQUFDQSxFQUFFQSxPQUFPQTtZQUM5Q0EsY0FBY0EsR0FBR0EsT0FBT0EsQ0FBQ0E7WUFDekJBLFVBQVVBLENBQUNBLGNBQWNBLEdBQUdBLGNBQWNBLENBQUNBO1lBQzNDQSxtQkFBbUJBLENBQUNBLGNBQWNBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1FBQzNDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVIQSxVQUFVQSxDQUFDQSxHQUFHQSxDQUFDQSxpQkFBaUJBLEVBQUVBLFVBQUNBLENBQUNBLEVBQUVBLE9BQU9BO1lBQ3pDQSxjQUFjQSxHQUFHQSxPQUFPQSxDQUFDQTtZQUN6QkEsVUFBVUEsQ0FBQ0EsY0FBY0EsR0FBR0EsY0FBY0EsQ0FBQ0E7WUFDM0NBLG1CQUFtQkEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDM0NBLENBQUNBLENBQUNBLENBQUNBO0lBQ1BBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBRUpBLGtCQUFrQkEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxVQUFDQSxJQUFJQTtRQUM3Q0EsTUFBTUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxHQUFHQSxnQkFBZ0JBLENBQUNBO1FBQzVDQSxJQUFJQSxFQUFFQSxDQUFDQTtJQUNYQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtJQUVUQSxJQUFNQSx5QkFBeUJBO1FBTzNCQyxTQVBFQSx5QkFBeUJBLENBT1BBLEVBQWVBO1lBQWZDLE9BQUVBLEdBQUZBLEVBQUVBLENBQWFBO1lBR25DQSxZQUFPQSxHQUFHQSxVQUFDQSxPQUFPQTtnQkFDZEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ2pCQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxvQkFBb0JBLENBQUNBLEdBQUdBLGNBQWNBLENBQUNBLEVBQUVBLENBQUNBO2dCQUM5REEsQ0FBQ0E7Z0JBQ0RBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBO1lBQ25CQSxDQUFDQSxDQUFDQTtRQVBGQSxDQUFDQTtRQUxhRCxpQ0FBT0EsR0FBckJBLFVBQXNCQSxFQUFlQTtZQUNqQ0UsTUFBTUEsQ0FBQ0EsSUFBSUEseUJBQXlCQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUM3Q0EsQ0FBQ0E7UUFKYUYsaUNBQU9BLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBZW5DQSxnQ0FBQ0E7SUFBREEsQ0FoQkFELEFBZ0JDQyxJQUFBRDtJQUVEQSxrQkFBa0JBLENBQUNBLFNBQVNBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7QUFDOURBLENBQUNBLEVBN0hNLGdCQUFnQixLQUFoQixnQkFBZ0IsUUE2SHRCOztBQzlIRCxJQUFPLGdCQUFnQixDQXNFdEI7QUF0RUQsV0FBTyxnQkFBZ0IsRUFBQyxDQUFDO0lBRVZBLHdDQUF1QkEsR0FBR0Esd0JBQU9BLENBQUNBLFVBQVVBLENBQUNBLDBDQUEwQ0EsRUFBRUE7UUFDaEdBLFlBQVlBO1FBQUVBLFFBQVFBO1FBQUVBLHNDQUFzQ0E7UUFBRUEsTUFBTUE7UUFBRUEsV0FBV0E7UUFDbkZBLFVBQUNBLFVBQVVBLEVBQUVBLE1BQU1BLEVBQUVBLG1CQUFtQkEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0E7WUFFckRBLE1BQU1BLENBQUNBLGFBQWFBLEdBQUdBLEVBQUVBLENBQUNBO1lBQzFCQSxNQUFNQSxDQUFDQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUV0QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsR0FBR0E7Z0JBQ1ZBLE1BQU1BLENBQUNBLGlCQUFpQkEsRUFBRUEsQ0FBQ0E7WUFDL0JBLENBQUNBLENBQUNBO1lBRUZBLE1BQU1BLENBQUNBLGlCQUFpQkEsR0FBR0E7Z0JBQ3ZCQSxNQUFNQSxDQUFDQSxhQUFhQSxHQUFHQSxFQUFFQSxDQUFDQTtnQkFDMUJBLE1BQU1BLENBQUNBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBO2dCQUN0QkEsTUFBTUEsQ0FBQ0EsYUFBYUEsR0FBR0EsbUJBQW1CQSxDQUFDQSxLQUFLQSxDQUFDQSxFQUFFQSxFQUMvQ0E7b0JBQ0lBLE1BQU1BLENBQUNBLE9BQU9BLEdBQUdBLEtBQUtBLENBQUNBO2dCQUMzQkEsQ0FBQ0EsRUFDREE7b0JBQ0lBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLCtDQUErQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQzNEQSxNQUFNQSxDQUFDQSxPQUFPQSxHQUFHQSxLQUFLQSxDQUFDQTtnQkFDM0JBLENBQUNBLENBQ0pBLENBQUNBO1lBQ05BLENBQUNBLENBQUNBO1lBQ0ZBLE1BQU1BLENBQUNBLGNBQWNBLEdBQUdBO2dCQUNwQkEsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsNkJBQTZCQSxDQUFDQSxDQUFDQTtZQUNsREEsQ0FBQ0EsQ0FBQ0E7WUFDRkEsTUFBTUEsQ0FBQ0EsTUFBTUEsR0FBR0EsVUFBQ0EsWUFBWUE7Z0JBQ3pCQSxZQUFZQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUN2QkE7b0JBQ0lBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLHFCQUFxQkEsQ0FBQ0EsQ0FBQ0E7b0JBQ3BDQSxNQUFNQSxDQUFDQSxhQUFhQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxhQUFhQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDL0VBLENBQUNBLENBQ0pBLENBQUNBO1lBQ05BLENBQUNBLENBQUNBO1lBRUZBLE1BQU1BLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO1lBRWRBLFVBQVVBLENBQUNBLEdBQUdBLENBQUNBLGlCQUFpQkEsRUFBRUE7Z0JBQzlCQSxNQUFNQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQy9CQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNQQSxDQUFDQTtLQUFDQSxDQUFDQSxDQUFDQTtJQUVHQSwwQ0FBeUJBLEdBQUdBLHdCQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSw0Q0FBNENBLEVBQUVBO1FBQ3BHQSxRQUFRQTtRQUFFQSxzQ0FBc0NBO1FBQUVBLE1BQU1BO1FBQUVBLFdBQVdBO1FBQ3JFQSxVQUFDQSxNQUFNQSxFQUFFQSxtQkFBbUJBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBO1lBRXpDQSxNQUFNQSxDQUFDQSxlQUFlQSxHQUFHQSxJQUFJQSxtQkFBbUJBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ3JEQSxNQUFNQSxDQUFDQSxPQUFPQSxHQUFHQTtnQkFDYkEsTUFBTUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsRUFDM0JBO29CQUNJQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxxQkFBcUJBLENBQUNBLENBQUNBO29CQUNwQ0EsU0FBU0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EseUJBQXlCQSxDQUFDQSxDQUFDQTtnQkFDOUNBLENBQUNBLEVBQ0RBO29CQUVJQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxrQ0FBa0NBLENBQUNBLENBQUNBO2dCQUNuREEsQ0FBQ0EsQ0FDSkEsQ0FBQ0E7Z0JBQ0ZBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLG9DQUFvQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckRBLENBQUNBLENBQUNBO1FBQ05BLENBQUNBO0tBQUNBLENBQUNBLENBQUNBO0lBRUdBLG9DQUFtQkEsR0FBR0Esd0JBQU9BLENBQUNBLE9BQU9BLENBQUNBLHNDQUFzQ0EsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsVUFBQ0EsU0FBU0E7UUFDN0dBLE1BQU1BLENBQUNBLFNBQVNBLENBQUNBLDJEQUEyREEsRUFBRUEsRUFBQ0EsRUFBRUEsRUFBQ0EsS0FBS0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDOUZBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO0lBRUpBLHdCQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQTtBQUN4Q0EsQ0FBQ0EsRUF0RU0sZ0JBQWdCLEtBQWhCLGdCQUFnQixRQXNFdEI7O0FDdEVELElBQU8sZ0JBQWdCLENBbUV0QjtBQW5FRCxXQUFPLGdCQUFnQixFQUFDLENBQUM7SUFFVkEsa0NBQWlCQSxHQUFHQSx3QkFBT0EsQ0FBQ0EsVUFBVUEsQ0FBQ0Esb0NBQW9DQSxFQUFFQTtRQUNwRkEsWUFBWUE7UUFBRUEsUUFBUUE7UUFBRUEsaUNBQWlDQTtRQUFFQSxNQUFNQTtRQUNqRUEsVUFBQ0EsVUFBVUEsRUFBRUEsTUFBTUEsRUFBRUEsY0FBY0EsRUFBRUEsSUFBSUE7WUFDckNBLE1BQU1BLENBQUNBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ3JCQSxNQUFNQSxDQUFDQSxjQUFjQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUU3QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsR0FBR0E7Z0JBQ1ZBLE1BQU1BLENBQUNBLGtCQUFrQkEsRUFBRUEsQ0FBQ0E7WUFDaENBLENBQUNBLENBQUNBO1lBRUZBLE1BQU1BLENBQUNBLGtCQUFrQkEsR0FBR0E7Z0JBQ3hCQSxNQUFNQSxDQUFDQSxjQUFjQSxHQUFHQSxjQUFjQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFDQSxFQUFFQSxFQUFFQSxTQUFTQSxFQUFDQSxFQUN0REE7b0JBQ0lBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLHNCQUFzQkEsRUFBRUEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2hFQSxDQUFDQSxFQUNEQTtvQkFDSUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsMENBQTBDQSxDQUFDQSxDQUFDQTtnQkFDMURBLENBQUNBLENBQ0pBLENBQUNBO1lBQ05BLENBQUNBLENBQUNBO1lBRUZBLE1BQU1BLENBQUNBLFlBQVlBLEdBQUdBO2dCQUNsQkEsTUFBTUEsQ0FBQ0EsUUFBUUEsR0FBR0EsY0FBY0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBRUEsRUFDckNBO29CQUNJQSxNQUFNQSxDQUFDQSxRQUFRQSxHQUFHQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxNQUFNQSxDQUFDQSxVQUFDQSxPQUFPQTt3QkFDN0NBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBLEVBQUVBLEtBQUtBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLEVBQUVBLENBQUNBO29CQUNuREEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ0hBLE1BQU1BLENBQUNBLE9BQU9BLEdBQUdBLEtBQUtBLENBQUNBO2dCQUMzQkEsQ0FBQ0EsRUFDREE7b0JBQ0lBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLDBDQUEwQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3REQSxNQUFNQSxDQUFDQSxPQUFPQSxHQUFHQSxLQUFLQSxDQUFDQTtnQkFDM0JBLENBQUNBLENBQ0pBLENBQUNBO1lBQ05BLENBQUNBLENBQUNBO1lBRUZBLE1BQU1BLENBQUNBLGFBQWFBLEdBQUdBLFVBQUNBLE9BQU9BO2dCQUMzQkEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzVDQSxNQUFNQSxDQUFDQSxjQUFjQSxHQUFHQSxPQUFPQSxDQUFDQTtnQkFDaENBLE1BQU1BLENBQUNBLFFBQVFBLEdBQUdBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE1BQU1BLENBQUNBLFVBQUNBLE9BQU9BO29CQUM3Q0EsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsRUFBRUEsS0FBS0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsRUFBRUEsQ0FBQ0E7Z0JBQ25EQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDSEEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUM3Q0EsQ0FBQ0EsQ0FBQ0E7WUFFRkEsVUFBVUEsQ0FBQ0EsR0FBR0EsQ0FBQ0Esc0JBQXNCQSxFQUFFQTtnQkFDbkNBLE1BQU1BLENBQUNBLFlBQVlBLEVBQUVBLENBQUNBO1lBQzFCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVIQSxVQUFVQSxDQUFDQSxHQUFHQSxDQUFDQSxxQkFBcUJBLEVBQUVBO2dCQUNsQ0EsTUFBTUEsQ0FBQ0EsWUFBWUEsRUFBRUEsQ0FBQ0E7WUFDMUJBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLFVBQVVBLENBQUNBLEdBQUdBLENBQUNBLHFCQUFxQkEsRUFBRUE7Z0JBQ2xDQSxNQUFNQSxDQUFDQSxZQUFZQSxFQUFFQSxDQUFDQTtZQUMxQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsTUFBTUEsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7UUFDbEJBLENBQUNBO0tBQUNBLENBQUNBLENBQUNBO0lBRUdBLCtCQUFjQSxHQUFHQSx3QkFBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsaUNBQWlDQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxVQUFDQSxTQUFTQTtRQUNuR0EsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0Esc0RBQXNEQSxFQUFFQSxFQUFDQSxFQUFFQSxFQUFDQSxLQUFLQSxFQUFDQSxDQUFDQSxDQUFDQTtJQUN6RkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSkEsd0JBQU9BLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO0FBQ3hDQSxDQUFDQSxFQW5FTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBbUV0Qjs7QUNuRkQ7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiaGF3a3VsYXItdWktY29tcG9uZW50cy1hY2NvdW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLiIsImlmICh0eXBlb2YgSGF3a3VsYXJDb21wb25lbnRzVmVyc2lvbnMgIT09ICd1bmRlZmluZWQnKSB7IEhhd2t1bGFyQ29tcG9uZW50c1ZlcnNpb25zLnB1c2goe25hbWU6J2FjY291bnRzJywgdmVyc2lvbjonMDczNGNmMCBIV0tJTlZFTlQtMzggSW5pdGlhbGl6ZSBpbnZlbnRvcnkgd2l0aCBuZXcgcGVyc29uYS5pZCBpZiB0aGUgdXNlciBnZXRzIGxvZ2dlZCBpbiBvciBzd2l0Y2hlZCBmcm9tIGRpZmZlcmVudCBwZXJzb25hLid9KX0gZWxzZSB7SGF3a3VsYXJDb21wb25lbnRzVmVyc2lvbnMgPSBbe25hbWU6J2FjY291bnRzJywgdmVyc2lvbjonMDczNGNmMCBIV0tJTlZFTlQtMzggSW5pdGlhbGl6ZSBpbnZlbnRvcnkgd2l0aCBuZXcgcGVyc29uYS5pZCBpZiB0aGUgdXNlciBnZXRzIGxvZ2dlZCBpbiBvciBzd2l0Y2hlZCBmcm9tIGRpZmZlcmVudCBwZXJzb25hLid9XX07IixudWxsLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxubW9kdWxlIEhhd2t1bGFyQWNjb3VudHMge1xuICAgIGV4cG9ydCB2YXIgcGx1Z2luTmFtZSA9IFwiaGF3a3VsYXItYWNjb3VudHNcIjtcbiAgICBleHBvcnQgdmFyIGxvZzpMb2dnaW5nLkxvZ2dlciA9IExvZ2dlci5nZXQocGx1Z2luTmFtZSk7XG4gICAgZXhwb3J0IHZhciB0ZW1wbGF0ZVBhdGggPSBcInBsdWdpbnMvYWNjb3VudHMvaHRtbFwiO1xufVxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhY2NvdW50c0dsb2JhbHMudHNcIi8+XG5tb2R1bGUgSGF3a3VsYXJBY2NvdW50cyB7XG4gICAgZXhwb3J0IHZhciBfbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoSGF3a3VsYXJBY2NvdW50cy5wbHVnaW5OYW1lLCBbJ3VpLmJvb3RzdHJhcCddKTtcbiAgICB2YXIgYWNjb3VudHNUYWI6YW55ID0gdW5kZWZpbmVkO1xuICAgIHZhciBjdXJyZW50UGVyc29uYTphbnkgPSB1bmRlZmluZWQ7XG5cbiAgICBfbW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRyb3V0ZVByb3ZpZGVyJywgJyRodHRwUHJvdmlkZXInLCAnSGF3dGlvTmF2QnVpbGRlclByb3ZpZGVyJywgKCRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlcjpuZy5yb3V0ZS5JUm91dGVQcm92aWRlciwgJGh0dHBQcm92aWRlcjpuZy5JSHR0cFByb3ZpZGVyLCBidWlsZGVyOkhhd3Rpb01haW5OYXYuQnVpbGRlckZhY3RvcnkpID0+IHtcbiAgICAgICAgYWNjb3VudHNUYWIgPSBidWlsZGVyLmNyZWF0ZSgpXG4gICAgICAgICAgICAuaWQoSGF3a3VsYXJBY2NvdW50cy5wbHVnaW5OYW1lKVxuICAgICAgICAgICAgLnRpdGxlKCgpID0+IFwiQWNjb3VudHNcIilcbiAgICAgICAgICAgIC5ocmVmKCgpID0+IFwiL2FjY291bnRzXCIpXG4gICAgICAgICAgICAuc3ViUGF0aChcIk15IGFjY291bnRcIiwgXCJhY2NvdW50c1wiLCBidWlsZGVyLmpvaW4oSGF3a3VsYXJBY2NvdW50cy50ZW1wbGF0ZVBhdGgsICdhY2NvdW50cy5odG1sJykpXG4gICAgICAgICAgICAuc3ViUGF0aChcIk9yZ2FuaXphdGlvbnNcIiwgXCJvcmdhbml6YXRpb25zXCIsIGJ1aWxkZXIuam9pbihIYXdrdWxhckFjY291bnRzLnRlbXBsYXRlUGF0aCwgJ29yZ2FuaXphdGlvbnMuaHRtbCcpKVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgIGJ1aWxkZXIuY29uZmlndXJlUm91dGluZygkcm91dGVQcm92aWRlciwgYWNjb3VudHNUYWIpO1xuXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9hY2NvdW50cy9vcmdhbml6YXRpb25zL25ldycsIHt0ZW1wbGF0ZVVybDogYnVpbGRlci5qb2luKEhhd2t1bGFyQWNjb3VudHMudGVtcGxhdGVQYXRoLCAnb3JnYW5pemF0aW9uX25ldy5odG1sJyl9KTtcbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKFBlcnNvbmFJbnRlcmNlcHRvclNlcnZpY2UuRmFjdG9yeSk7XG4gICAgfV0pO1xuXG4gICAgX21vZHVsZS5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2cnLCAnJG1vZGFsJywgJyRkb2N1bWVudCcsICd1c2VyRGV0YWlscycsICdIYXd0aW9OYXYnLCAnSGF3a3VsYXJJbnZlbnRvcnknLCAoJHJvb3RTY29wZSwgJGxvZywgJG1vZGFsLCAkZG9jdW1lbnQsIHVzZXJEZXRhaWxzLCBIYXd0aW9OYXY6SGF3dGlvTWFpbk5hdi5SZWdpc3RyeSwgaGF3a3VsYXJJbnZlbnRvcnkpID0+IHtcbiAgICAgICAgLy9IYXd0aW9OYXYuYWRkKGFjY291bnRzVGFiKTtcbiAgICAgICAgJHJvb3RTY29wZS51c2VyRGV0YWlscyA9IHVzZXJEZXRhaWxzO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdJZGxlU3RhcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICAkKCcjaWRsZScpLnNsaWRlRG93bigpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignSWRsZUVuZCcsICgpID0+IHtcbiAgICAgICAgICAgICQoXCIjaWRsZVwiKS5zbGlkZVVwKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdJZGxlVGltZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgICRsb2cuZGVidWcoJ0lkbGUgdGltZW91dCcpO1xuICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKS5hZGRDbGFzcygnaW5hY3Rpdml0eS1tb2RhbC1vcGVuJyk7XG4gICAgICAgICAgICAkbW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwbHVnaW5zL2FjY291bnRzL2h0bWwvaW5hY3Rpdml0eU1vZGFsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbml0aWFsaXplSW52ZW50b3J5ID0gKHRlbmFudElkOiBzdHJpbmcpID0+IHtcblxuICAgICAgICAgICAgdmFyIGFkZFRlbmFudCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdGVuYW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogdGVuYW50SWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBoYXdrdWxhckludmVudG9yeS5UZW5hbnQuc2F2ZSh0ZW5hbnQpLiRwcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFkZEVudmlyb25tZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHRvZG86IGVudmlyb25tZW50IGlzIGhhcmQtY29kZWQgaGVyZVxuICAgICAgICAgICAgICAgIHZhciBlbnZpcm9ubWVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd0ZXN0J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhd2t1bGFySW52ZW50b3J5LkVudmlyb25tZW50LnNhdmUoe3RlbmFudElkOiB0ZW5hbnRJZH0sIGVudmlyb25tZW50KS4kcHJvbWlzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBhZGRSZXNvdXJjZVR5cGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlVHlwZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdVUkwnLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMS4wJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhd2t1bGFySW52ZW50b3J5LlJlc291cmNlVHlwZS5zYXZlKHt0ZW5hbnRJZDogdGVuYW50SWR9LCByZXNvdXJjZVR5cGUpLiRwcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGFkZE1ldHJpY1R5cGUgPSAoaWQ6IHN0cmluZywgdW5pdHM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtZXRyaWNUeXBlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIHVuaXQ6IHVuaXRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGF3a3VsYXJJbnZlbnRvcnkuTWV0cmljVHlwZS5zYXZlKHt0ZW5hbnRJZDogdGVuYW50SWR9LCBtZXRyaWNUeXBlKS4kcHJvbWlzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBlcnIgPSAoZXJyb3I6IGFueSwgbXNnOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICAvLyB0b2RvOiB1c2UgSGF3a3VsYXJFcnJvck1hbmFnZXIgb25jZSBpdCBpcyBhdmFpbGFibGUgaW4gc2hhcmVkIHNlcnZpY2VzXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5IYXdrdWxhckVycm9yTWFuYWdlci5lcnJvckhhbmRsZXIoZXJyb3IsIG1zZyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhZGRUZW5hbnQoKVxuICAgICAgICAgICAgLnRoZW4oYWRkRW52aXJvbm1lbnQpXG4gICAgICAgICAgICAudGhlbihhZGRSZXNvdXJjZVR5cGUpXG4gICAgICAgICAgICAudGhlbihhZGRNZXRyaWNUeXBlKCdzdGF0dXMuZHVyYXRpb24udHlwZScsICdNSUxMSV9TRUNPTkQnKSlcbiAgICAgICAgICAgIC50aGVuKGFkZE1ldHJpY1R5cGUoJ3N0YXR1cy5jb2RlLnR5cGUnLCAnTk9ORScpKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiBlcnIoZSwgJ0Vycm9yIGluaXRpYWxpemluZyB0aGUgaW52ZW50b3J5LicpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignQ3VycmVudFBlcnNvbmFMb2FkZWQnLCAoZSwgcGVyc29uYSkgPT4ge1xuICAgICAgICAgICAgY3VycmVudFBlcnNvbmEgPSBwZXJzb25hO1xuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50UGVyc29uYSA9IGN1cnJlbnRQZXJzb25hO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZUludmVudG9yeShjdXJyZW50UGVyc29uYS5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdTd2l0Y2hlZFBlcnNvbmEnLCAoZSwgcGVyc29uYSkgPT4ge1xuICAgICAgICAgICAgY3VycmVudFBlcnNvbmEgPSBwZXJzb25hO1xuICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50UGVyc29uYSA9IGN1cnJlbnRQZXJzb25hO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZUludmVudG9yeShjdXJyZW50UGVyc29uYS5pZCk7XG4gICAgICAgIH0pO1xuICAgIH1dKTtcblxuICAgIGhhd3Rpb1BsdWdpbkxvYWRlci5yZWdpc3RlclByZUJvb3RzdHJhcFRhc2soKG5leHQpID0+IHtcbiAgICAgICAgd2luZG93WydLZXljbG9ha0NvbmZpZyddID0gXCIva2V5Y2xvYWsuanNvblwiO1xuICAgICAgICBuZXh0KCk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBjbGFzcyBQZXJzb25hSW50ZXJjZXB0b3JTZXJ2aWNlIHtcbiAgICAgICAgcHVibGljIHN0YXRpYyAkaW5qZWN0ID0gWyckcSddO1xuXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgRmFjdG9yeSgkcTpuZy5JUVNlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc29uYUludGVyY2VwdG9yU2VydmljZSgkcSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRxOm5nLklRU2VydmljZSkge1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFBlcnNvbmEpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbJ1gtSGF3a3VsYXItUGVyc29uYSddID0gY3VycmVudFBlcnNvbmEuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBoYXd0aW9QbHVnaW5Mb2FkZXIuYWRkTW9kdWxlKEhhd2t1bGFyQWNjb3VudHMucGx1Z2luTmFtZSk7XG59XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cImFjY291bnRzUGx1Z2luLnRzXCIvPlxubW9kdWxlIEhhd2t1bGFyQWNjb3VudHMge1xuXG4gICAgZXhwb3J0IHZhciBPcmdhbml6YXRpb25zQ29udHJvbGxlciA9IF9tb2R1bGUuY29udHJvbGxlcihcIkhhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uc0NvbnRyb2xsZXJcIiwgW1xuICAgICAgICAnJHJvb3RTY29wZScsICckc2NvcGUnLCAnSGF3a3VsYXJBY2NvdW50cy5Pcmdhbml6YXRpb25TZXJ2aWNlJywgJyRsb2cnLCAnJGxvY2F0aW9uJyxcbiAgICAgICAgKCRyb290U2NvcGUsICRzY29wZSwgT3JnYW5pemF0aW9uU2VydmljZSwgJGxvZywgJGxvY2F0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gW107XG4gICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkT3JnYW5pemF0aW9ucygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmxvYWRPcmdhbml6YXRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zID0gT3JnYW5pemF0aW9uU2VydmljZS5xdWVyeSh7fSxcbiAgICAgICAgICAgICAgICAgICAgKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLndhcm4oXCJMaXN0IG9mIG9yZ2FuaXphdGlvbnMgY291bGQgTk9UIGJlIHJldHJpZXZlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NyZWF0ZUZvcm0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hY2NvdW50cy9vcmdhbml6YXRpb25zL25ldycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS5yZW1vdmUgPSAob3JnYW5pemF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgb3JnYW5pemF0aW9uLiRyZW1vdmUoKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ09yZ2FuaXphdGlvblJlbW92ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25zLnNwbGljZSgkc2NvcGUub3JnYW5pemF0aW9ucy5pbmRleE9mKG9yZ2FuaXphdGlvbiksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5sb2FkKCk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdTd2l0Y2hlZFBlcnNvbmEnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRPcmdhbml6YXRpb25zKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfV0pO1xuXG4gICAgZXhwb3J0IHZhciBPcmdhbml6YXRpb25OZXdDb250cm9sbGVyID0gX21vZHVsZS5jb250cm9sbGVyKFwiSGF3a3VsYXJBY2NvdW50cy5Pcmdhbml6YXRpb25OZXdDb250cm9sbGVyXCIsIFtcbiAgICAgICAgJyRzY29wZScsICdIYXdrdWxhckFjY291bnRzLk9yZ2FuaXphdGlvblNlcnZpY2UnLCAnJGxvZycsICckbG9jYXRpb24nLFxuICAgICAgICAoJHNjb3BlLCBPcmdhbml6YXRpb25TZXJ2aWNlLCAkbG9nLCAkbG9jYXRpb24pID0+IHtcblxuICAgICAgICAgICAgJHNjb3BlLm9yZ2FuaXphdGlvbk5ldyA9IG5ldyBPcmdhbml6YXRpb25TZXJ2aWNlKHt9KTtcbiAgICAgICAgICAgICRzY29wZS5wZXJzaXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcmdhbml6YXRpb25OZXcuJHNhdmUoe30sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnT3JnYW5pemF0aW9uQ3JlYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9hY2NvdW50cy9vcmdhbml6YXRpb25zJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiT3JnYW5pemF0aW9uIGNvdWxkIE5PVCBiZSBhZGRlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJUcnlpbmcgdG8gcGVyc2lzdCB0aGUgb3JnYW5pemF0aW9uXCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuXG4gICAgZXhwb3J0IHZhciBPcmdhbml6YXRpb25TZXJ2aWNlID0gX21vZHVsZS5zZXJ2aWNlKFwiSGF3a3VsYXJBY2NvdW50cy5Pcmdhbml6YXRpb25TZXJ2aWNlXCIsIFtcIiRyZXNvdXJjZVwiLCAoJHJlc291cmNlKSA9PiB7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9oYXdrdWxhci1hY2NvdW50cy9vcmdhbml6YXRpb25zLzppZCcsIHtpZDonQGlkJ30pO1xuICAgIH1dKTtcblxuICAgIF9tb2R1bGUucmVxdWlyZXMucHVzaChcIm5nUmVzb3VyY2VcIik7XG59XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cImFjY291bnRzUGx1Z2luLnRzXCIvPlxubW9kdWxlIEhhd2t1bGFyQWNjb3VudHMge1xuXG4gICAgZXhwb3J0IHZhciBQZXJzb25hQ29udHJvbGxlciA9IF9tb2R1bGUuY29udHJvbGxlcihcIkhhd2t1bGFyQWNjb3VudHMuUGVyc29uYUNvbnRyb2xsZXJcIiwgW1xuICAgICAgICAnJHJvb3RTY29wZScsICckc2NvcGUnLCAnSGF3a3VsYXJBY2NvdW50cy5QZXJzb25hU2VydmljZScsICckbG9nJyxcbiAgICAgICAgKCRyb290U2NvcGUsICRzY29wZSwgUGVyc29uYVNlcnZpY2UsICRsb2cpID0+IHtcbiAgICAgICAgICAgICRzY29wZS5wZXJzb25hcyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRQZXJzb25hID0gbnVsbDtcblxuICAgICAgICAgICAgJHNjb3BlLmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRDdXJyZW50UGVyc29uYSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmxvYWRDdXJyZW50UGVyc29uYSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudFBlcnNvbmEgPSBQZXJzb25hU2VydmljZS5nZXQoe2lkOiBcImN1cnJlbnRcIn0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdChcIkN1cnJlbnRQZXJzb25hTG9hZGVkXCIsICRzY29wZS5jdXJyZW50UGVyc29uYSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cud2FybihcIkZhaWxlZCBpbiByZXRyaWV2aW5nIHRoZSBjdXJyZW50IHBlcnNvbmFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmxvYWRQZXJzb25hcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVyc29uYXMgPSBQZXJzb25hU2VydmljZS5xdWVyeSh7fSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbmFzID0gJHNjb3BlLnBlcnNvbmFzLmZpbHRlcigocGVyc29uYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwZXJzb25hLmlkICE9PSAkc2NvcGUuY3VycmVudFBlcnNvbmEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cud2FybihcIkxpc3Qgb2YgcGVyc29uYXMgY291bGQgTk9UIGJlIHJldHJpZXZlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zd2l0Y2hQZXJzb25hID0gKHBlcnNvbmEpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVyc29uYXMucHVzaCgkc2NvcGUuY3VycmVudFBlcnNvbmEpO1xuICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50UGVyc29uYSA9IHBlcnNvbmE7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbmFzID0gJHNjb3BlLnBlcnNvbmFzLmZpbHRlcigocGVyc29uYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGVyc29uYS5pZCAhPT0gJHNjb3BlLmN1cnJlbnRQZXJzb25hLmlkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdChcIlN3aXRjaGVkUGVyc29uYVwiLCBwZXJzb25hKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdDdXJyZW50UGVyc29uYUxvYWRlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9hZFBlcnNvbmFzKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ09yZ2FuaXphdGlvbkNyZWF0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRQZXJzb25hcygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdPcmdhbml6YXRpb25SZW1vdmVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICRzY29wZS5sb2FkUGVyc29uYXMoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUubG9hZCgpO1xuICAgICAgICB9XSk7XG5cbiAgICBleHBvcnQgdmFyIFBlcnNvbmFTZXJ2aWNlID0gX21vZHVsZS5zZXJ2aWNlKFwiSGF3a3VsYXJBY2NvdW50cy5QZXJzb25hU2VydmljZVwiLCBbXCIkcmVzb3VyY2VcIiwgKCRyZXNvdXJjZSkgPT4ge1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKCdodHRwOi8vbG9jYWxob3N0OjgwODAvaGF3a3VsYXItYWNjb3VudHMvcGVyc29uYXMvOmlkJywge2lkOidAaWQnfSk7XG4gICAgfV0pO1xuXG4gICAgX21vZHVsZS5yZXF1aXJlcy5wdXNoKFwibmdSZXNvdXJjZVwiKTtcbn1cbiIsImFuZ3VsYXIubW9kdWxlKFwiaGF3a3VsYXItdWktY29tcG9uZW50cy1hY2NvdW50cy10ZW1wbGF0ZXNcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkgeyR0ZW1wbGF0ZUNhY2hlLnB1dChcInBsdWdpbnMvYWNjb3VudHMvaHRtbC9hY2NvdW50cy5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcbiAgICAgICAgPGgxPkFjY291bnRzPC9oMT5cXG4gICAgICAgIFlvdXIgYWNjb3VudCBjYW4gYmUgbWFuYWdlZCBkaXJlY3RseSBhdCA8YSBocmVmPVxcXCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXV0aC9yZWFsbXMvaGF3a3VsYXIvYWNjb3VudFxcXCI+S2V5Y2xvYWs8L2E+LlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJwbHVnaW5zL2FjY291bnRzL2h0bWwvaW5hY3Rpdml0eU1vZGFsLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICAgIDxoMyBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPlNlc3Npb24gZXhwaXJlZDwvaDM+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICAgIER1ZSB0byBpbmFjdGl2aXR5LCB3ZSBoYWQgdG8gY2xvc2UgeW91ciBzZXNzaW9uLlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gaWQ9XFxcImxvZ291dEJ0blxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgZGF0YS1uZy1jbGljaz1cXFwidXNlckRldGFpbHMubG9nb3V0KClcXFwiPkxvZ2luIGFnYWluPC9idXR0b24+XFxuPC9kaXY+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwicGx1Z2lucy9hY2NvdW50cy9odG1sL29yZ2FuaXphdGlvbl9uZXcuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIiBkYXRhLW5nLWNvbnRyb2xsZXI9XFxcIkhhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uTmV3Q29udHJvbGxlclxcXCI+XFxuICAgICAgICA8b2wgY2xhc3M9XFxcImJyZWFkY3J1bWJcXFwiPlxcbiAgICAgICAgICAgIDxsaT48YSBkYXRhLW5nLWhyZWY9XFxcIi9cXFwiPkhhd2t1bGFyPC9hPjwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGRhdGEtbmctaHJlZj1cXFwiL1xcXCI+QWNjb3VudHM8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgZGF0YS1uZy1ocmVmPVxcXCIvYWNjb3VudHMvb3JnYW5pemF0aW9uc1xcXCI+T3JnYW5pemF0aW9uczwvYT48L2xpPlxcbiAgICAgICAgPC9vbD5cXG4gICAgICAgIDxoMT5cXG4gICAgICAgICAgICBBZGQgT3JnYW5pemF0aW9uXFxuICAgICAgICA8L2gxPlxcblxcbiAgICAgICAgPGZvcm0gcm9sZT1cXFwiZm9ybVxcXCIgY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIm5hbWVcXFwiIGNsYXNzPVxcXCJjb2wtbWQtMiBjb250cm9sLWxhYmVsXFxcIj5OYW1lIDxzcGFuIGNsYXNzPVxcXCJyZXF1aXJlZFxcXCI+Kjwvc3Bhbj4gPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJuYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwiTmFtZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLW5nLW1vZGVsPVxcXCJvcmdhbml6YXRpb25OZXcubmFtZVxcXCI+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJkZXNjcmlwdGlvblxcXCIgY2xhc3M9XFxcImNvbC1tZC0yIGNvbnRyb2wtbGFiZWxcXFwiPkRlc2NyaXB0aW9uPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTZcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJkZXNjcmlwdGlvblxcXCIgcGxhY2Vob2xkZXI9XFxcIkRlc2NyaXB0aW9uXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbmctbW9kZWw9XFxcIm9yZ2FuaXphdGlvbk5ldy5kZXNjcmlwdGlvblxcXCI+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC04XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLW5nLWhyZWY9XFxcIi9hY2NvdW50cy9vcmdhbml6YXRpb25zXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1sZ1xcXCI+Q2FuY2VsPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLW5nLWNsaWNrPVxcXCJwZXJzaXN0KClcXFwiIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tbGdcXFwiPlNhdmU8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8L2Zvcm0+XFxuICAgIDwvZGl2PjwhLS0gL2NvbCAtLT5cXG48L2Rpdj48IS0tIC9yb3cgLS0+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwicGx1Z2lucy9hY2NvdW50cy9odG1sL29yZ2FuaXphdGlvbnMuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIiBkYXRhLW5nLWNvbnRyb2xsZXI9XFxcIkhhd2t1bGFyQWNjb3VudHMuT3JnYW5pemF0aW9uc0NvbnRyb2xsZXJcXFwiPlxcbiAgICAgICAgPG9sIGNsYXNzPVxcXCJicmVhZGNydW1iXFxcIj5cXG4gICAgICAgICAgICA8bGk+PGEgZGF0YS1uZy1ocmVmPVxcXCIvXFxcIj5IYXdrdWxhcjwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBkYXRhLW5nLWhyZWY9XFxcIi9cXFwiPkFjY291bnRzPC9hPjwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGRhdGEtbmctaHJlZj1cXFwiL2FjY291bnRzL29yZ2FuaXphdGlvbnNcXFwiPk9yZ2FuaXphdGlvbnM8L2E+PC9saT5cXG4gICAgICAgIDwvb2w+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwdWxsLXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgcm9sZT1cXFwiYnV0dG9uXFxcIiBkYXRhLW5nLWNsaWNrPVxcXCJzaG93Q3JlYXRlRm9ybSgpXFxcIj5DcmVhdGU8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGgxPk9yZ2FuaXphdGlvbnM8L2gxPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtZGVzY3JpcHRpb25cXFwiIGRhdGEtbmctc2hvdz1cXFwibG9hZGluZ1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwic3Bpbm5lciBzcGlubmVyLXhzIHNwaW5uZXItaW5saW5lXFxcIj48L2Rpdj4gPHN0cm9uZz5Mb2FkaW5nOjwvc3Ryb25nPiBPcmdhbml6YXRpb25zXFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCIgZGF0YS1uZy1zaG93PVxcXCIhb3JnYW5pemF0aW9ucy5sZW5ndGggJiYgIWxvYWRpbmdcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgICAgICAgICAgTm8gb3JnYW5pemF0aW9ucyB5ZXQuIEhvdyBhYm91dCBjcmVhdGluZyBvbmU/XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgZGF0YS1uZy1zaG93PVxcXCJvcmdhbml6YXRpb25zLmxlbmd0aCAmJiAhbG9hZGluZ1xcXCI+XFxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWJvcmRlcmVkXFxcIj5cXG4gICAgICAgICAgICAgICAgPHRoZWFkPlxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+RGVzY3JpcHRpb248L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4mbmJzcDs8L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgICAgICAgICAgPHRib2R5PlxcbiAgICAgICAgICAgICAgICAgICAgPHRyIGRhdGEtbmctcmVwZWF0PVxcXCJvcmdhbml6YXRpb24gaW4gb3JnYW5pemF0aW9uc1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7b3JnYW5pemF0aW9uLm5hbWV9fTwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7b3JnYW5pemF0aW9uLmRlc2NyaXB0aW9ufX08L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGFyaWEtbGFiZWw9XFxcIlJlbW92ZVxcXCIgZGF0YS1uZy1jbGljaz1cXFwicmVtb3ZlKG9yZ2FuaXphdGlvbilcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInBmaWNvbiBwZmljb24tZGVsZXRlXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PjwhLS0gL2NvbCAtLT5cXG5cXG48L2Rpdj5cXG48L2Rpdj5cXG5cIik7fV0pOyBoYXd0aW9QbHVnaW5Mb2FkZXIuYWRkTW9kdWxlKFwiaGF3a3VsYXItdWktY29tcG9uZW50cy1hY2NvdW50cy10ZW1wbGF0ZXNcIik7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9