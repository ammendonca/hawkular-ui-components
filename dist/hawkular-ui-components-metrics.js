/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.


var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics.pluginName = "hawkular-metrics";
    HawkularMetrics.log = Logger.get(HawkularMetrics.pluginName);
    HawkularMetrics.templatePath = "plugins/metrics/html";
    HawkularMetrics.globalTenantId = "test";
    HawkularMetrics.globalResourceId = "";
    HawkularMetrics.globalResourceUrl = "";
    HawkularMetrics.globalResourceList = [];
    HawkularMetrics.globalChartTimeRange;
    var ChartTimeRange = (function () {
        function ChartTimeRange(initialHoursDifference) {
            this.initialHoursDifference = initialHoursDifference;
            this.init();
        }
        ChartTimeRange.prototype.init = function () {
            this.endTimestamp = moment().valueOf();
            this.startTimestamp = moment().subtract('hour', this.initialHoursDifference).valueOf();
        };
        ChartTimeRange.prototype.getStartDate = function () {
            return new Date(this.startTimestamp);
        };
        ChartTimeRange.prototype.getEndDate = function () {
            return new Date(this.endTimestamp);
        };
        ChartTimeRange.prototype.getFormattedTimeRange = function () {
            return moment(this.startTimestamp).format('H:mm') + ' - ' + moment(this.endTimestamp).format('H:mm') + ' (' + moment(this.endTimestamp).from(moment(this.startTimestamp), true) + ')';
        };
        return ChartTimeRange;
    })();
    HawkularMetrics.ChartTimeRange = ChartTimeRange;
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics._module = angular.module(HawkularMetrics.pluginName, ['ngResource', 'ui.select', 'hawkularCharts', 'hawkular.services']);
    var metricsTab;
    HawkularMetrics._module.config(['$httpProvider', '$locationProvider', '$routeProvider', 'HawtioNavBuilderProvider', function ($httpProvider, $locationProvider, $routeProvider, navBuilder) {
        $httpProvider.defaults.useXDomain = true;
        delete $httpProvider.defaults.headers.common['X-Requested-With'];
        metricsTab = navBuilder.create().id(HawkularMetrics.pluginName).title(function () { return "Metrics"; }).href(function () { return "/metrics"; }).subPath("Add Url", "addUrl", navBuilder.join(HawkularMetrics.templatePath, 'add-url.html')).subPath("Overview", "overview", navBuilder.join(HawkularMetrics.templatePath, 'overview.html')).subPath("Metrics Response", "metricsResponse", navBuilder.join(HawkularMetrics.templatePath, 'metrics-response.html')).build();
        navBuilder.configureRouting($routeProvider, metricsTab);
        $locationProvider.html5Mode(true);
    }]);
    HawkularMetrics._module.run(['HawtioNav', function (HawtioNav) {
        HawtioNav.add(metricsTab);
        HawkularMetrics.log.debug("loaded Metrics Plugin");
    }]);
    HawkularMetrics._module.directive('ngEnter', function () {
        return function (scope, element, attrs) {
            element.bind("keydown keypress", function (event) {
                if (event.which === 13) {
                    scope.$apply(function () {
                        scope.$eval(attrs.ngEnter);
                    });
                    event.preventDefault();
                }
            });
        };
    });
    hawtioPluginLoader.addModule(HawkularMetrics.pluginName);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    var AddUrlController = (function () {
        function AddUrlController($location, $scope, $rootScope, $log, HawkularInventory, resourceUrl) {
            this.$location = $location;
            this.$scope = $scope;
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.HawkularInventory = HawkularInventory;
            this.resourceUrl = resourceUrl;
            this.httpUriPart = 'http://';
            $scope.vm = this;
            this.resourceUrl = this.httpUriPart;
        }
        AddUrlController.prototype.addUrl = function (url) {
            var _this = this;
            var resource = {
                type: 'URL',
                id: '',
                parameters: {
                    url: url
                }
            };
            this.$log.info("Adding new Resource Url to Hawkular-inventory: " + url);
            HawkularMetrics.globalChartTimeRange = new HawkularMetrics.ChartTimeRange(1);
            this.HawkularInventory.Resource.save({ tenantId: HawkularMetrics.globalTenantId }, resource).$promise.then(function (newResource) {
                HawkularMetrics.globalResourceId = newResource.id;
                HawkularMetrics.globalResourceUrl = resource.parameters.url;
                console.dir(newResource);
                _this.$log.info("New Resource ID: " + HawkularMetrics.globalResourceId + " created for url: " + HawkularMetrics.globalResourceUrl);
                var metrics = [{
                    name: HawkularMetrics.globalResourceId + '.status.duration',
                    unit: 'MILLI_SECOND',
                    description: 'Response Time in ms.'
                }, {
                    name: HawkularMetrics.globalResourceId + '.status.code',
                    unit: 'NONE',
                    description: 'Status Code'
                }];
                _this.HawkularInventory.Metric.save({
                    tenantId: HawkularMetrics.globalTenantId,
                    resourceId: newResource.id
                }, metrics).$promise.then(function (newMetrics) {
                    toastr.info("Your data is being collected. Please be patient (should be about another minute).");
                    _this.$location.url("/metrics/metricsResponse");
                });
            });
        };
        AddUrlController.$inject = ['$location', '$scope', '$rootScope', '$log', 'HawkularInventory'];
        return AddUrlController;
    })();
    HawkularMetrics.AddUrlController = AddUrlController;
    HawkularMetrics._module.controller('HawkularMetrics.AddUrlController', AddUrlController);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    var sharedMetricId;
    var MetricsViewController = (function () {
        function MetricsViewController($scope, $rootScope, $interval, $log, HawkularMetric, HawkularInventory, startTimeStamp, endTimeStamp, dateRange) {
            var _this = this;
            this.$scope = $scope;
            this.$rootScope = $rootScope;
            this.$interval = $interval;
            this.$log = $log;
            this.HawkularMetric = HawkularMetric;
            this.HawkularInventory = HawkularInventory;
            this.startTimeStamp = startTimeStamp;
            this.endTimeStamp = endTimeStamp;
            this.dateRange = dateRange;
            this.bucketedDataPoints = [];
            this.contextDataPoints = [];
            this.isResponseTab = true;
            this.resourceList = [];
            $scope.vm = this;
            this.startTimeStamp = moment().subtract(1, 'hours').toDate();
            this.endTimeStamp = new Date();
            this.dateRange = moment(this.startTimeStamp).format('H:mm') + ' - ' + moment(this.endTimeStamp).format('H:mm') + ' (' + moment(this.endTimeStamp).from(moment(this.startTimeStamp), true) + ')';
            $scope.$on('RefreshChart', function (event) {
                $scope.vm.refreshChartDataNow(_this.getMetricId());
            });
            $scope.$watch('vm.selectedResource', function (resource) {
                if (angular.isUndefined(resource)) {
                    HawkularMetrics.globalResourceList = _this.HawkularInventory.Resource.query({ tenantId: HawkularMetrics.globalTenantId }).$promise.then(function (resources) {
                        _this.resourceList = resources;
                        _this.selectedResource = resources[resources.length - 1];
                        $scope.vm.refreshChartDataNow(_this.getMetricId());
                    });
                }
                else {
                    HawkularMetrics.globalResourceId = resource.id;
                    $scope.vm.refreshChartDataNow(_this.getMetricId());
                }
            });
            $scope.vm.onCreate();
        }
        MetricsViewController.prototype.onCreate = function () {
            this.autoRefresh(60);
            this.setupResourceList();
            this.resourceList = HawkularMetrics.globalResourceList;
            this.selectedResource = this.resourceList[this.resourceList.length - 1];
            this.refreshChartDataNow(this.getMetricId());
        };
        MetricsViewController.prototype.setupResourceList = function () {
            HawkularMetrics.globalResourceList = this.HawkularInventory.Resource.query({ tenantId: HawkularMetrics.globalTenantId });
            this.resourceList = HawkularMetrics.globalResourceList;
        };
        MetricsViewController.prototype.cancelAutoRefresh = function () {
            this.$interval.cancel(this.autoRefreshPromise);
            toastr.info('Canceling Auto Refresh');
        };
        MetricsViewController.prototype.autoRefresh = function (intervalInSeconds) {
            var _this = this;
            this.refreshHistoricalChartDataForTimestamp(this.getMetricId());
            this.autoRefreshPromise = this.$interval(function () {
                _this.endTimeStamp = new Date();
                _this.refreshHistoricalChartDataForTimestamp(_this.getMetricId());
            }, intervalInSeconds * 1000);
            this.$scope.$on('$destroy', function () {
                _this.$interval.cancel(_this.autoRefreshPromise);
            });
        };
        MetricsViewController.prototype.noDataFoundForId = function (id) {
            this.$log.warn('No Data found for id: ' + id);
        };
        MetricsViewController.calculatePreviousTimeRange = function (startDate, endDate) {
            var previousTimeRange = [];
            var intervalInMillis = endDate.getTime() - startDate.getTime();
            previousTimeRange.push(new Date(startDate.getTime() - intervalInMillis));
            previousTimeRange.push(startDate);
            return previousTimeRange;
        };
        MetricsViewController.prototype.showPreviousTimeRange = function () {
            var previousTimeRange = MetricsViewController.calculatePreviousTimeRange(this.startTimeStamp, this.endTimeStamp);
            this.startTimeStamp = previousTimeRange[0];
            this.endTimeStamp = previousTimeRange[1];
            this.refreshHistoricalChartData(this.getMetricId(), this.startTimeStamp, this.endTimeStamp);
        };
        MetricsViewController.calculateNextTimeRange = function (startDate, endDate) {
            var nextTimeRange = [];
            var intervalInMillis = endDate.getTime() - startDate.getTime();
            nextTimeRange.push(endDate);
            nextTimeRange.push(new Date(endDate.getTime() + intervalInMillis));
            return nextTimeRange;
        };
        MetricsViewController.prototype.showNextTimeRange = function () {
            var nextTimeRange = MetricsViewController.calculateNextTimeRange(this.startTimeStamp, this.endTimeStamp);
            this.startTimeStamp = nextTimeRange[0];
            this.endTimeStamp = nextTimeRange[1];
            this.refreshHistoricalChartData(this.getMetricId(), this.startTimeStamp, this.endTimeStamp);
        };
        MetricsViewController.prototype.hasNext = function () {
            var nextTimeRange = MetricsViewController.calculateNextTimeRange(this.startTimeStamp, this.endTimeStamp);
            return nextTimeRange[1].getTime() < new Date().getTime();
        };
        MetricsViewController.prototype.refreshChartDataNow = function (metricId, startTime) {
            var adjStartTimeStamp = moment().subtract('hours', 1).toDate();
            this.endTimeStamp = new Date();
            this.refreshHistoricalChartData(metricId, angular.isUndefined(startTime) ? adjStartTimeStamp : startTime, this.endTimeStamp);
        };
        MetricsViewController.prototype.refreshHistoricalChartData = function (metricId, startDate, endDate) {
            this.refreshHistoricalChartDataForTimestamp(metricId, startDate.getTime(), endDate.getTime());
        };
        MetricsViewController.prototype.getMetricId = function () {
            var metricId = this.isResponseTab ? this.getResourceDurationMetricId() : this.getResourceCodeMetricId();
            sharedMetricId = metricId;
            return metricId;
        };
        MetricsViewController.prototype.getResourceDurationMetricId = function () {
            return HawkularMetrics.globalResourceId + '.status.duration';
        };
        MetricsViewController.prototype.getResourceCodeMetricId = function () {
            return HawkularMetrics.globalResourceId + '.status.code';
        };
        MetricsViewController.prototype.refreshHistoricalChartDataForTimestamp = function (metricId, startTime, endTime) {
            var _this = this;
            if (angular.isUndefined(endTime)) {
                endTime = this.endTimeStamp.getTime();
            }
            if (angular.isUndefined(startTime)) {
                startTime = this.startTimeStamp.getTime();
            }
            this.HawkularMetric.NumericMetricData.queryMetrics({
                tenantId: HawkularMetrics.globalTenantId,
                numericId: metricId,
                start: startTime,
                end: endTime,
                buckets: 60
            }).$promise.then(function (response) {
                _this.bucketedDataPoints = _this.formatBucketedChartOutput(response);
                console.dir(_this.bucketedDataPoints);
                if (_this.bucketedDataPoints.length !== 0) {
                    _this.chartData = {
                        id: metricId,
                        startTimeStamp: _this.startTimeStamp,
                        endTimeStamp: _this.endTimeStamp,
                        dataPoints: _this.bucketedDataPoints,
                        contextDataPoints: _this.contextDataPoints,
                        annotationDataPoints: []
                    };
                }
                else {
                    _this.noDataFoundForId(_this.getMetricId());
                }
            }, function (error) {
                toastr.error('Error Loading Chart Data: ' + error);
            });
        };
        MetricsViewController.prototype.formatBucketedChartOutput = function (response) {
            return _.map(response.data, function (point) {
                return {
                    timestamp: point.timestamp,
                    date: new Date(point.timestamp),
                    value: !angular.isNumber(point.value) ? 0 : point.value,
                    avg: (point.empty) ? 0 : point.avg,
                    min: !angular.isNumber(point.min) ? 0 : point.min,
                    max: !angular.isNumber(point.max) ? 0 : point.max,
                    empty: point.empty
                };
            });
        };
        MetricsViewController.$inject = ['$scope', '$rootScope', '$interval', '$log', 'HawkularMetric', 'HawkularInventory'];
        return MetricsViewController;
    })();
    HawkularMetrics.MetricsViewController = MetricsViewController;
    HawkularMetrics._module.controller('MetricsViewController', MetricsViewController);
    var QuickAlertController = (function () {
        function QuickAlertController($scope, HawkularAlert) {
            this.$scope = $scope;
            this.HawkularAlert = HawkularAlert;
            this.$scope.showQuickAlert = false;
            this.$scope.quickTrigger = {
                operator: 'LT',
                threshold: 0
            };
            this.allNotifiers();
            console.log('Notifiers: ' + this.$scope.notifiers);
        }
        QuickAlertController.prototype.toggleQuickAlert = function () {
            this.$scope.showQuickAlert = !this.$scope.showQuickAlert;
        };
        QuickAlertController.prototype.allNotifiers = function () {
            var _this = this;
            this.$scope.notifiers = [];
            this.HawkularAlert.Notifier.query(function (result) {
                _this.$scope.notifiers = result;
            }, function (error) {
                if (error.data.errorMsg) {
                    toastr.error(error.data.errorMsg);
                }
                else {
                    toastr.error('Error loading Alerts Notifiers: ' + error);
                }
            });
        };
        QuickAlertController.prototype.saveQuickAlert = function () {
            var _this = this;
            if (sharedMetricId !== '.status.duration' && sharedMetricId !== '.status.code') {
                var newTrigger = {};
                newTrigger.id = sharedMetricId + 'ResponseTime' + '-' + this.$scope.quickTrigger.operator + '-' + this.$scope.quickTrigger.threshold;
                newTrigger.name = newTrigger.id;
                newTrigger.description = 'Created on ' + new Date();
                newTrigger.match = 'ALL';
                newTrigger.enabled = true;
                newTrigger.notifiers = this.$scope.quickTrigger.notifiers;
                var newDampening = {
                    triggerId: newTrigger.id,
                    type: 'RELAXED_COUNT',
                    evalTrueSetting: 1,
                    evalTotalSetting: 1,
                    evalTimeSetting: 0
                };
                this.HawkularAlert.Trigger.save(newTrigger, function (trigger) {
                    newDampening.triggerId = trigger.id;
                    _this.HawkularAlert.Dampening.save(newDampening, function (dampening) {
                        var newThresholdCondition = {
                            triggerId: newDampening.triggerId,
                            dataId: sharedMetricId,
                            conditionSetSize: 1,
                            conditionSetIndex: 1,
                            operator: _this.$scope.quickTrigger.operator,
                            threshold: _this.$scope.quickTrigger.threshold
                        };
                        _this.HawkularAlert['ThresholdCondition'].save(newThresholdCondition, function () {
                            _this.HawkularAlert.Alert.reload(function (errorReload) {
                                if (errorReload.data.errorMsg) {
                                    toastr.error(errorReload.data.errorMsg);
                                }
                                else {
                                    toastr.error('Error reloading alerts' + errorReload);
                                }
                            });
                            _this.toggleQuickAlert();
                        }, function (errorCondition) {
                            if (errorCondition.data.errorMsg) {
                                toastr.error(errorCondition.data.errorMsg);
                            }
                            else {
                                toastr.error('Error loading Saving Trigger Condition' + errorCondition);
                            }
                        });
                    }, function (errorDampening) {
                        if (errorDampening.data.errorMsg) {
                            toastr.error(errorDampening.data.errorMsg);
                        }
                        else {
                            toastr.error('Error loading Saving Trigger Dampening ' + errorDampening);
                        }
                    });
                }, function (error) {
                    if (error.data.errorMsg) {
                        toastr.error(error.data.errorMsg);
                    }
                    else {
                        toastr.error('Error loading Saving Trigger ' + error);
                    }
                });
            }
            else {
                toastr.warning('No metric selected');
            }
        };
        QuickAlertController.$inject = ['$scope', 'HawkularAlert'];
        return QuickAlertController;
    })();
    HawkularMetrics.QuickAlertController = QuickAlertController;
    HawkularMetrics._module.controller('QuickAlertController', QuickAlertController);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics.OverviewController = HawkularMetrics._module.controller("HawkularMetrics.OverviewController", ['$scope', function ($scope) {
        $scope.overview = "Over View";
    }]);
})(HawkularMetrics || (HawkularMetrics = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluY2x1ZGVzLmpzIiwiL1VzZXJzL210aG8xMS9wcm9qZWN0cy9oYXdrdWxhci11aS1jb21wb25lbnRzL21ldHJpY3MvdHMvbWV0cmljc0dsb2JhbHMudHMiLCIvVXNlcnMvbXRobzExL3Byb2plY3RzL2hhd2t1bGFyLXVpLWNvbXBvbmVudHMvbWV0cmljcy90cy9tZXRyaWNzUGx1Z2luLnRzIiwiL1VzZXJzL210aG8xMS9wcm9qZWN0cy9oYXdrdWxhci11aS1jb21wb25lbnRzL21ldHJpY3MvdHMvYWRkVXJsUGFnZS50cyIsIi9Vc2Vycy9tdGhvMTEvcHJvamVjdHMvaGF3a3VsYXItdWktY29tcG9uZW50cy9tZXRyaWNzL3RzL21ldHJpY3NSZXNwb25zZVBhZ2UudHMiLCIvVXNlcnMvbXRobzExL3Byb2plY3RzL2hhd2t1bGFyLXVpLWNvbXBvbmVudHMvbWV0cmljcy90cy9vdmVydmlld1BhZ2UudHMiXSwibmFtZXMiOlsiSGF3a3VsYXJNZXRyaWNzIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmNvbnN0cnVjdG9yIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmluaXQiLCJIYXdrdWxhck1ldHJpY3MuQ2hhcnRUaW1lUmFuZ2UuZ2V0U3RhcnREYXRlIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmdldEVuZERhdGUiLCJIYXdrdWxhck1ldHJpY3MuQ2hhcnRUaW1lUmFuZ2UuZ2V0Rm9ybWF0dGVkVGltZVJhbmdlIiwiSGF3a3VsYXJNZXRyaWNzLkFkZFVybENvbnRyb2xsZXIiLCJIYXdrdWxhck1ldHJpY3MuQWRkVXJsQ29udHJvbGxlci5jb25zdHJ1Y3RvciIsIkhhd2t1bGFyTWV0cmljcy5BZGRVcmxDb250cm9sbGVyLmFkZFVybCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmNvbnN0cnVjdG9yIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5vbkNyZWF0ZSIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuc2V0dXBSZXNvdXJjZUxpc3QiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmNhbmNlbEF1dG9SZWZyZXNoIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5hdXRvUmVmcmVzaCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIubm9EYXRhRm91bmRGb3JJZCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuY2FsY3VsYXRlUHJldmlvdXNUaW1lUmFuZ2UiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnNob3dQcmV2aW91c1RpbWVSYW5nZSIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuY2FsY3VsYXRlTmV4dFRpbWVSYW5nZSIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuc2hvd05leHRUaW1lUmFuZ2UiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmhhc05leHQiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnJlZnJlc2hDaGFydERhdGFOb3ciLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5nZXRNZXRyaWNJZCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuZ2V0UmVzb3VyY2VEdXJhdGlvbk1ldHJpY0lkIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5nZXRSZXNvdXJjZUNvZGVNZXRyaWNJZCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIucmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGFGb3JUaW1lc3RhbXAiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmZvcm1hdEJ1Y2tldGVkQ2hhcnRPdXRwdXQiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIuY29uc3RydWN0b3IiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIudG9nZ2xlUXVpY2tBbGVydCIsIkhhd2t1bGFyTWV0cmljcy5RdWlja0FsZXJ0Q29udHJvbGxlci5hbGxOb3RpZmllcnMiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIuc2F2ZVF1aWNrQWxlcnQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUNnQkEsSUFBTyxlQUFlLENBdURyQjtBQXZERCxXQUFPLGVBQWUsRUFBQyxDQUFDO0lBR1RBLDBCQUFVQSxHQUFHQSxrQkFBa0JBLENBQUNBO0lBRWhDQSxtQkFBR0EsR0FBa0JBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLDBCQUFVQSxDQUFDQSxDQUFDQTtJQUU1Q0EsNEJBQVlBLEdBQUdBLHNCQUFzQkEsQ0FBQ0E7SUFNdENBLDhCQUFjQSxHQUFHQSxNQUFNQSxDQUFDQTtJQUV4QkEsZ0NBQWdCQSxHQUFHQSxFQUFFQSxDQUFDQTtJQUN0QkEsaUNBQWlCQSxHQUFHQSxFQUFFQSxDQUFDQTtJQUV2QkEsa0NBQWtCQSxHQUFHQSxFQUFFQSxDQUFDQTtJQUV4QkEsb0NBQW1DQSxDQUFDQTtJQUUvQ0EsSUFBYUEsY0FBY0E7UUFJdkJDLFNBSlNBLGNBQWNBLENBSUhBLHNCQUE2QkE7WUFBN0JDLDJCQUFzQkEsR0FBdEJBLHNCQUFzQkEsQ0FBT0E7WUFFN0NBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO1FBQ2hCQSxDQUFDQTtRQUVERCw2QkFBSUEsR0FBSkE7WUFDSUUsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsTUFBTUEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFDdkNBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLE1BQU1BLEVBQUVBLENBQUNBLFFBQVFBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBLHNCQUFzQkEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDM0ZBLENBQUNBO1FBRURGLHFDQUFZQSxHQUFaQTtZQUNJRyxNQUFNQSxDQUFDQSxJQUFJQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtRQUN6Q0EsQ0FBQ0E7UUFFREgsbUNBQVVBLEdBQVZBO1lBQ0lJLE1BQU1BLENBQUNBLElBQUlBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1FBQ3ZDQSxDQUFDQTtRQUVESiw4Q0FBcUJBLEdBQXJCQTtZQU1JSyxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUM5RkEsSUFBSUEsR0FBR0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7UUFDekZBLENBQUNBO1FBQ0xMLHFCQUFDQTtJQUFEQSxDQS9CQUQsQUErQkNDLElBQUFEO0lBL0JZQSw4QkFBY0EsR0FBZEEsY0ErQlpBLENBQUFBO0FBRUxBLENBQUNBLEVBdkRNLGVBQWUsS0FBZixlQUFlLFFBdURyQjs7QUN0REQsSUFBTyxlQUFlLENBZ0RyQjtBQWhERCxXQUFPLGVBQWUsRUFBQyxDQUFDO0lBRVRBLHVCQUFPQSxHQUFHQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxFQUFFQSxDQUFDQSxZQUFZQSxFQUFDQSxXQUFXQSxFQUFFQSxnQkFBZ0JBLEVBQUVBLG1CQUFtQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFbklBLElBQUlBLFVBQWNBLENBQUNBO0lBRW5CQSx1QkFBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsRUFBQ0EsbUJBQW1CQSxFQUFFQSxnQkFBZ0JBLEVBQUVBLDBCQUEwQkEsRUFBRUEsVUFBQ0EsYUFBYUEsRUFBRUEsaUJBQWlCQSxFQUFFQSxjQUFzQ0EsRUFBRUEsVUFBdUNBO1FBR2pOQSxhQUFhQSxDQUFDQSxRQUFRQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQTtRQUN6Q0EsT0FBT0EsYUFBYUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxDQUFDQTtRQUVqRUEsVUFBVUEsR0FBR0EsVUFBVUEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FDM0JBLEVBQUVBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQzlCQSxLQUFLQSxDQUFDQSxjQUFNQSxnQkFBU0EsRUFBVEEsQ0FBU0EsQ0FBQ0EsQ0FDdEJBLElBQUlBLENBQUNBLGNBQU1BLGlCQUFVQSxFQUFWQSxDQUFVQSxDQUFDQSxDQUN0QkEsT0FBT0EsQ0FBQ0EsU0FBU0EsRUFBRUEsUUFBUUEsRUFBRUEsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsWUFBWUEsRUFBRUEsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FFM0ZBLE9BQU9BLENBQUNBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLFlBQVlBLEVBQUVBLGVBQWVBLENBQUNBLENBQUNBLENBQy9GQSxPQUFPQSxDQUFDQSxrQkFBa0JBLEVBQUVBLGlCQUFpQkEsRUFBRUEsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsWUFBWUEsRUFBRUEsdUJBQXVCQSxDQUFDQSxDQUFDQSxDQUN0SEEsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFFYkEsVUFBVUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxjQUFjQSxFQUFFQSxVQUFVQSxDQUFDQSxDQUFDQTtRQUV4REEsaUJBQWlCQSxDQUFDQSxTQUFTQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtJQUN0Q0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSkEsdUJBQU9BLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLFdBQVdBLEVBQUVBLFVBQUNBLFNBQWdDQTtRQUN2REEsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7UUFDMUJBLG1CQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSx1QkFBdUJBLENBQUNBLENBQUNBO0lBQ3ZDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUVKQSx1QkFBT0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUE7UUFDekIsTUFBTSxDQUFDLFVBQVUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLO1lBQ2xDLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsVUFBVSxLQUFLO2dCQUM1QyxFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ3BCLEtBQUssQ0FBQyxNQUFNLENBQUM7d0JBQ1QsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQy9CLENBQUMsQ0FBQyxDQUFDO29CQUVILEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDM0IsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDQSxDQUFDQTtJQUdIQSxrQkFBa0JBLENBQUNBLFNBQVNBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO0FBQzdEQSxDQUFDQSxFQWhETSxlQUFlLEtBQWYsZUFBZSxRQWdEckI7O0FDakRELElBQU8sZUFBZSxDQXVFckI7QUF2RUQsV0FBTyxlQUFlLEVBQUMsQ0FBQztJQUdwQkEsSUFBYUEsZ0JBQWdCQTtRQU16Qk8sU0FOU0EsZ0JBQWdCQSxDQU1MQSxTQUE2QkEsRUFDN0JBLE1BQVVBLEVBQ1ZBLFVBQStCQSxFQUMvQkEsSUFBbUJBLEVBQ25CQSxpQkFBcUJBLEVBQ3RCQSxXQUFrQkE7WUFMakJDLGNBQVNBLEdBQVRBLFNBQVNBLENBQW9CQTtZQUM3QkEsV0FBTUEsR0FBTkEsTUFBTUEsQ0FBSUE7WUFDVkEsZUFBVUEsR0FBVkEsVUFBVUEsQ0FBcUJBO1lBQy9CQSxTQUFJQSxHQUFKQSxJQUFJQSxDQUFlQTtZQUNuQkEsc0JBQWlCQSxHQUFqQkEsaUJBQWlCQSxDQUFJQTtZQUN0QkEsZ0JBQVdBLEdBQVhBLFdBQVdBLENBQU9BO1lBUDdCQSxnQkFBV0EsR0FBR0EsU0FBU0EsQ0FBQ0E7WUFRNUJBLE1BQU1BLENBQUNBLEVBQUVBLEdBQUdBLElBQUlBLENBQUNBO1lBQ2pCQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQTtRQUV4Q0EsQ0FBQ0E7UUFFREQsaUNBQU1BLEdBQU5BLFVBQU9BLEdBQVVBO1lBQWpCRSxpQkE4Q0NBO1lBN0NHQSxJQUFJQSxRQUFRQSxHQUFHQTtnQkFDWEEsSUFBSUEsRUFBRUEsS0FBS0E7Z0JBQ1hBLEVBQUVBLEVBQUVBLEVBQUVBO2dCQUNOQSxVQUFVQSxFQUFFQTtvQkFDUkEsR0FBR0EsRUFBRUEsR0FBR0E7aUJBQ1hBO2FBQ0pBLENBQUNBO1lBRUZBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLGlEQUFpREEsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFFeEVBLG9DQUFvQkEsR0FBR0EsSUFBSUEsOEJBQWNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBRzdDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLEVBQUNBLFFBQVFBLEVBQUVBLDhCQUFjQSxFQUFDQSxFQUFFQSxRQUFRQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUM5RUEsSUFBSUEsQ0FBQ0EsVUFBQ0EsV0FBV0E7Z0JBRWRBLGdDQUFnQkEsR0FBR0EsV0FBV0EsQ0FBQ0EsRUFBRUEsQ0FBQ0E7Z0JBQ2xDQSxpQ0FBaUJBLEdBQUdBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLEdBQUdBLENBQUNBO2dCQUM1Q0EsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3pCQSxLQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxtQkFBbUJBLEdBQUdBLGdDQUFnQkEsR0FBR0Esb0JBQW9CQSxHQUFHQSxpQ0FBaUJBLENBQUNBLENBQUNBO2dCQUNsR0EsSUFBSUEsT0FBT0EsR0FBR0EsQ0FBQ0E7b0JBQ1hBLElBQUlBLEVBQUVBLGdDQUFnQkEsR0FBR0Esa0JBQWtCQTtvQkFDM0NBLElBQUlBLEVBQUVBLGNBQWNBO29CQUNwQkEsV0FBV0EsRUFBRUEsc0JBQXNCQTtpQkFDdENBLEVBQUVBO29CQUNDQSxJQUFJQSxFQUFFQSxnQ0FBZ0JBLEdBQUdBLGNBQWNBO29CQUN2Q0EsSUFBSUEsRUFBRUEsTUFBTUE7b0JBQ1pBLFdBQVdBLEVBQUVBLGFBQWFBO2lCQUM3QkEsQ0FBQ0EsQ0FBQ0E7Z0JBS0hBLEtBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7b0JBQy9CQSxRQUFRQSxFQUFFQSw4QkFBY0E7b0JBQ3hCQSxVQUFVQSxFQUFFQSxXQUFXQSxDQUFDQSxFQUFFQTtpQkFDN0JBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLFVBQUNBLFVBQVVBO29CQUM3QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUZBQW1GQSxDQUFDQSxDQUFDQTtvQkFFakdBLEtBQUlBLENBQUNBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsQ0FBQ0E7Z0JBQ25EQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVYQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUdYQSxDQUFDQTtRQTdEYUYsd0JBQU9BLEdBQUdBLENBQUNBLFdBQVdBLEVBQUVBLFFBQVFBLEVBQUVBLFlBQVlBLEVBQUVBLE1BQU1BLEVBQUVBLG1CQUFtQkEsQ0FBQ0EsQ0FBQ0E7UUE4RC9GQSx1QkFBQ0E7SUFBREEsQ0FoRUFQLEFBZ0VDTyxJQUFBUDtJQWhFWUEsZ0NBQWdCQSxHQUFoQkEsZ0JBZ0VaQSxDQUFBQTtJQUVEQSx1QkFBT0EsQ0FBQ0EsVUFBVUEsQ0FBQ0Esa0NBQWtDQSxFQUFFQSxnQkFBZ0JBLENBQUNBLENBQUNBO0FBRTdFQSxDQUFDQSxFQXZFTSxlQUFlLEtBQWYsZUFBZSxRQXVFckI7O0FDdEVELElBQU8sZUFBZSxDQWtYckI7QUFsWEQsV0FBTyxlQUFlLEVBQUMsQ0FBQztJQWdCcEJBLElBQUlBLGNBQWNBLENBQUNBO0lBWW5CQSxJQUFhQSxxQkFBcUJBO1FBSTlCVSxTQUpTQSxxQkFBcUJBLENBSVZBLE1BQVVBLEVBQ1ZBLFVBQStCQSxFQUMvQkEsU0FBNkJBLEVBQzdCQSxJQUFtQkEsRUFDbkJBLGNBQWtCQSxFQUNsQkEsaUJBQXFCQSxFQUN0QkEsY0FBbUJBLEVBQ25CQSxZQUFpQkEsRUFDakJBLFNBQWdCQTtZQVp2Q0MsaUJBK05DQTtZQTNOdUJBLFdBQU1BLEdBQU5BLE1BQU1BLENBQUlBO1lBQ1ZBLGVBQVVBLEdBQVZBLFVBQVVBLENBQXFCQTtZQUMvQkEsY0FBU0EsR0FBVEEsU0FBU0EsQ0FBb0JBO1lBQzdCQSxTQUFJQSxHQUFKQSxJQUFJQSxDQUFlQTtZQUNuQkEsbUJBQWNBLEdBQWRBLGNBQWNBLENBQUlBO1lBQ2xCQSxzQkFBaUJBLEdBQWpCQSxpQkFBaUJBLENBQUlBO1lBQ3RCQSxtQkFBY0EsR0FBZEEsY0FBY0EsQ0FBS0E7WUFDbkJBLGlCQUFZQSxHQUFaQSxZQUFZQSxDQUFLQTtZQUNqQkEsY0FBU0EsR0FBVEEsU0FBU0EsQ0FBT0E7WUFrQzNCQSx1QkFBa0JBLEdBQXFCQSxFQUFFQSxDQUFDQTtZQUMxQ0Esc0JBQWlCQSxHQUFxQkEsRUFBRUEsQ0FBQ0E7WUFFekNBLGtCQUFhQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUk3QkEsaUJBQVlBLEdBQUdBLEVBQUVBLENBQUNBO1lBeENkQSxNQUFNQSxDQUFDQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUVqQkEsSUFBSUEsQ0FBQ0EsY0FBY0EsR0FBR0EsTUFBTUEsRUFBRUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0E7WUFDN0RBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLElBQUlBLEVBQUVBLENBQUNBO1lBQy9CQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUM1R0EsSUFBSUEsR0FBR0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsRUFBRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0E7WUFFakZBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLGNBQWNBLEVBQUVBLFVBQUNBLEtBQUtBO2dCQUM3QkEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxLQUFJQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUN0REEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EscUJBQXFCQSxFQUFFQSxVQUFDQSxRQUFRQTtnQkFDMUNBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUVoQ0Esa0NBQWtCQSxHQUFHQSxLQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLFFBQVFBLENBQUNBLEtBQUtBLENBQUNBLEVBQUNBLFFBQVFBLEVBQUVBLDhCQUFjQSxFQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUMzRkEsSUFBSUEsQ0FBQ0EsVUFBQ0EsU0FBU0E7d0JBQ1hBLEtBQUlBLENBQUNBLFlBQVlBLEdBQUdBLFNBQVNBLENBQUNBO3dCQUM5QkEsS0FBSUEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxTQUFTQSxDQUFDQSxTQUFTQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDeERBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsS0FBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7b0JBQ3REQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFFWEEsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUVKQSxnQ0FBZ0JBLEdBQUdBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBO29CQUMvQkEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxLQUFJQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQSxDQUFDQTtnQkFDdERBLENBQUNBO1lBRUxBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1FBRXpCQSxDQUFDQTtRQWFPRCx3Q0FBUUEsR0FBaEJBO1lBRUlFLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ3JCQSxJQUFJQSxDQUFDQSxpQkFBaUJBLEVBQUVBLENBQUNBO1lBQ3pCQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxrQ0FBa0JBLENBQUNBO1lBQ3ZDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEdBQUdBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3hFQSxJQUFJQSxDQUFDQSxtQkFBbUJBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBLENBQUNBO1FBQ2pEQSxDQUFDQTtRQUVERixpREFBaUJBLEdBQWpCQTtZQUNJRyxrQ0FBa0JBLEdBQUdBLElBQUlBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBQ0EsUUFBUUEsRUFBRUEsOEJBQWNBLEVBQUNBLENBQUNBLENBQUNBO1lBQ3ZGQSxJQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxrQ0FBa0JBLENBQUNBO1FBQzNDQSxDQUFDQTtRQUVESCxpREFBaUJBLEdBQWpCQTtZQUNJSSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBO1lBQy9DQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSx3QkFBd0JBLENBQUNBLENBQUNBO1FBQzFDQSxDQUFDQTtRQUVESiwyQ0FBV0EsR0FBWEEsVUFBWUEsaUJBQXdCQTtZQUFwQ0ssaUJBVUNBO1lBVEdBLElBQUlBLENBQUNBLHNDQUFzQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDaEVBLElBQUlBLENBQUNBLGtCQUFrQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0E7Z0JBQ3JDQSxLQUFJQSxDQUFDQSxZQUFZQSxHQUFHQSxJQUFJQSxJQUFJQSxFQUFFQSxDQUFDQTtnQkFDL0JBLEtBQUlBLENBQUNBLHNDQUFzQ0EsQ0FBQ0EsS0FBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDcEVBLENBQUNBLEVBQUVBLGlCQUFpQkEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFFN0JBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLEVBQUVBO2dCQUN4QkEsS0FBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsS0FBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxDQUFDQTtZQUNuREEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDUEEsQ0FBQ0E7UUFFT0wsZ0RBQWdCQSxHQUF4QkEsVUFBeUJBLEVBQVNBO1lBQzlCTSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSx3QkFBd0JBLEdBQUdBLEVBQUVBLENBQUNBLENBQUNBO1FBRWxEQSxDQUFDQTtRQUVjTixnREFBMEJBLEdBQXpDQSxVQUEwQ0EsU0FBY0EsRUFBRUEsT0FBWUE7WUFDbEVPLElBQUlBLGlCQUFpQkEsR0FBVUEsRUFBRUEsQ0FBQ0E7WUFDbENBLElBQUlBLGdCQUFnQkEsR0FBR0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFFL0RBLGlCQUFpQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN6RUEsaUJBQWlCQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtZQUNsQ0EsTUFBTUEsQ0FBQ0EsaUJBQWlCQSxDQUFDQTtRQUM3QkEsQ0FBQ0E7UUFFRFAscURBQXFCQSxHQUFyQkE7WUFDSVEsSUFBSUEsaUJBQWlCQSxHQUFHQSxxQkFBcUJBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7WUFFakhBLElBQUlBLENBQUNBLGNBQWNBLEdBQUdBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDM0NBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDekNBLElBQUlBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsRUFBRUEsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7UUFFaEdBLENBQUNBO1FBR2NSLDRDQUFzQkEsR0FBckNBLFVBQXNDQSxTQUFjQSxFQUFFQSxPQUFZQTtZQUM5RFMsSUFBSUEsYUFBYUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDdkJBLElBQUlBLGdCQUFnQkEsR0FBR0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFFL0RBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBQzVCQSxhQUFhQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxFQUFFQSxHQUFHQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBO1lBQ25FQSxNQUFNQSxDQUFDQSxhQUFhQSxDQUFDQTtRQUN6QkEsQ0FBQ0E7UUFHRFQsaURBQWlCQSxHQUFqQkE7WUFDSVUsSUFBSUEsYUFBYUEsR0FBR0EscUJBQXFCQSxDQUFDQSxzQkFBc0JBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1lBRXpHQSxJQUFJQSxDQUFDQSxjQUFjQSxHQUFHQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN2Q0EsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsYUFBYUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDckNBLElBQUlBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsRUFBRUEsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7UUFFaEdBLENBQUNBO1FBR0RWLHVDQUFPQSxHQUFQQTtZQUNJVyxJQUFJQSxhQUFhQSxHQUFHQSxxQkFBcUJBLENBQUNBLHNCQUFzQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7WUFJekdBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE9BQU9BLEVBQUVBLEdBQUdBLElBQUlBLElBQUlBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLENBQUNBO1FBQzdEQSxDQUFDQTtRQUdEWCxtREFBbUJBLEdBQW5CQSxVQUFvQkEsUUFBZUEsRUFBRUEsU0FBZUE7WUFDaERZLElBQUlBLGlCQUFpQkEsR0FBUUEsTUFBTUEsRUFBRUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0E7WUFFcEVBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLElBQUlBLEVBQUVBLENBQUNBO1lBQy9CQSxJQUFJQSxDQUFDQSwwQkFBMEJBLENBQUNBLFFBQVFBLEVBQUVBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLFNBQVNBLENBQUNBLEdBQUdBLGlCQUFpQkEsR0FBR0EsU0FBU0EsRUFBRUEsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0E7UUFDaklBLENBQUNBO1FBRURaLDBEQUEwQkEsR0FBMUJBLFVBQTJCQSxRQUFlQSxFQUFFQSxTQUFjQSxFQUFFQSxPQUFZQTtZQUNwRWEsSUFBSUEsQ0FBQ0Esc0NBQXNDQSxDQUFDQSxRQUFRQSxFQUFFQSxTQUFTQSxDQUFDQSxPQUFPQSxFQUFFQSxFQUFFQSxPQUFPQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQSxDQUFDQTtRQUNsR0EsQ0FBQ0E7UUFFRGIsMkNBQVdBLEdBQVhBO1lBQ0ljLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLGFBQWFBLEdBQUdBLElBQUlBLENBQUNBLDJCQUEyQkEsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsdUJBQXVCQSxFQUFFQSxDQUFDQTtZQUN4R0EsY0FBY0EsR0FBR0EsUUFBUUEsQ0FBQ0E7WUFDMUJBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBO1FBQ3BCQSxDQUFDQTtRQUVPZCwyREFBMkJBLEdBQW5DQTtZQUNJZSxNQUFNQSxDQUFDQSxnQ0FBZ0JBLEdBQUdBLGtCQUFrQkEsQ0FBQ0E7UUFDakRBLENBQUNBO1FBRU9mLHVEQUF1QkEsR0FBL0JBO1lBQ0lnQixNQUFNQSxDQUFDQSxnQ0FBZ0JBLEdBQUdBLGNBQWNBLENBQUNBO1FBQzdDQSxDQUFDQTtRQUVEaEIsc0VBQXNDQSxHQUF0Q0EsVUFBdUNBLFFBQWVBLEVBQUVBLFNBQWlCQSxFQUFFQSxPQUFlQTtZQUExRmlCLGlCQXdDQ0E7WUF0Q0dBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUMvQkEsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFDMUNBLENBQUNBO1lBQ0RBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNqQ0EsU0FBU0EsR0FBR0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFDOUNBLENBQUNBO1lBRURBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsWUFBWUEsQ0FBQ0E7Z0JBQy9DQSxRQUFRQSxFQUFFQSw4QkFBY0E7Z0JBQ3hCQSxTQUFTQSxFQUFFQSxRQUFRQTtnQkFDbkJBLEtBQUtBLEVBQUVBLFNBQVNBO2dCQUNoQkEsR0FBR0EsRUFBRUEsT0FBT0E7Z0JBQ1pBLE9BQU9BLEVBQUVBLEVBQUVBO2FBQ2RBLENBQUNBLENBQUNBLFFBQVFBLENBQ05BLElBQUlBLENBQUNBLFVBQUNBLFFBQVFBO2dCQUVYQSxLQUFJQSxDQUFDQSxrQkFBa0JBLEdBQUdBLEtBQUlBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ25FQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxLQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBO2dCQUVyQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxNQUFNQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFFdkNBLEtBQUlBLENBQUNBLFNBQVNBLEdBQUdBO3dCQUNiQSxFQUFFQSxFQUFFQSxRQUFRQTt3QkFDWkEsY0FBY0EsRUFBRUEsS0FBSUEsQ0FBQ0EsY0FBY0E7d0JBQ25DQSxZQUFZQSxFQUFFQSxLQUFJQSxDQUFDQSxZQUFZQTt3QkFDL0JBLFVBQVVBLEVBQUVBLEtBQUlBLENBQUNBLGtCQUFrQkE7d0JBQ25DQSxpQkFBaUJBLEVBQUVBLEtBQUlBLENBQUNBLGlCQUFpQkE7d0JBQ3pDQSxvQkFBb0JBLEVBQUVBLEVBQUVBO3FCQUMzQkEsQ0FBQ0E7Z0JBRU5BLENBQUNBO2dCQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtvQkFDSkEsS0FBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxLQUFJQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQSxDQUFDQTtnQkFDOUNBLENBQUNBO1lBRUxBLENBQUNBLEVBQUVBLFVBQUNBLEtBQUtBO2dCQUNMQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSw0QkFBNEJBLEdBQUdBLEtBQUtBLENBQUNBLENBQUNBO1lBQ3ZEQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUVYQSxDQUFDQTtRQUVPakIseURBQXlCQSxHQUFqQ0EsVUFBa0NBLFFBQVFBO1lBRXRDa0IsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsRUFBRUEsVUFBQ0EsS0FBcUJBO2dCQUM5Q0EsTUFBTUEsQ0FBQ0E7b0JBQ0hBLFNBQVNBLEVBQUVBLEtBQUtBLENBQUNBLFNBQVNBO29CQUMxQkEsSUFBSUEsRUFBRUEsSUFBSUEsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsU0FBU0EsQ0FBQ0E7b0JBQy9CQSxLQUFLQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxLQUFLQSxDQUFDQSxLQUFLQTtvQkFDdkRBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLEtBQUtBLENBQUNBLEdBQUdBO29CQUNsQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsR0FBR0EsS0FBS0EsQ0FBQ0EsR0FBR0E7b0JBQ2pEQSxHQUFHQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxLQUFLQSxDQUFDQSxHQUFHQTtvQkFDakRBLEtBQUtBLEVBQUVBLEtBQUtBLENBQUNBLEtBQUtBO2lCQUNyQkEsQ0FBQ0E7WUFDTkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDUEEsQ0FBQ0E7UUEzTmNsQiw2QkFBT0EsR0FBR0EsQ0FBQ0EsUUFBUUEsRUFBRUEsWUFBWUEsRUFBRUEsV0FBV0EsRUFBRUEsTUFBTUEsRUFBRUEsZ0JBQWdCQSxFQUFFQSxtQkFBbUJBLENBQUNBLENBQUNBO1FBNk5sSEEsNEJBQUNBO0lBQURBLENBL05BVixBQStOQ1UsSUFBQVY7SUEvTllBLHFDQUFxQkEsR0FBckJBLHFCQStOWkEsQ0FBQUE7SUFFREEsdUJBQU9BLENBQUNBLFVBQVVBLENBQUNBLHVCQUF1QkEsRUFBRUEscUJBQXFCQSxDQUFDQSxDQUFDQTtJQU9uRUEsSUFBYUEsb0JBQW9CQTtRQUc3QjZCLFNBSFNBLG9CQUFvQkEsQ0FHVEEsTUFBVUEsRUFDVkEsYUFBaUJBO1lBRGpCQyxXQUFNQSxHQUFOQSxNQUFNQSxDQUFJQTtZQUNWQSxrQkFBYUEsR0FBYkEsYUFBYUEsQ0FBSUE7WUFDakNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLEdBQUdBLEtBQUtBLENBQUNBO1lBQ25DQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxZQUFZQSxHQUFHQTtnQkFDdkJBLFFBQVFBLEVBQUVBLElBQUlBO2dCQUNkQSxTQUFTQSxFQUFFQSxDQUFDQTthQUNmQSxDQUFDQTtZQUNGQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFFQSxDQUFDQTtZQUNwQkEsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsYUFBYUEsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7UUFDdkRBLENBQUNBO1FBRURELCtDQUFnQkEsR0FBaEJBO1lBQ0lFLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBO1FBQzdEQSxDQUFDQTtRQUVPRiwyQ0FBWUEsR0FBcEJBO1lBQUFHLGlCQWFDQTtZQVpHQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxTQUFTQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUMzQkEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FDN0JBLFVBQUNBLE1BQU1BO2dCQUNIQSxLQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxTQUFTQSxHQUFHQSxNQUFNQSxDQUFDQTtZQUNuQ0EsQ0FBQ0EsRUFBRUEsVUFBQ0EsS0FBS0E7Z0JBQ0xBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO29CQUN0QkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ3RDQSxDQUFDQTtnQkFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7b0JBQ0pBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLGtDQUFrQ0EsR0FBR0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzdEQSxDQUFDQTtZQUNMQSxDQUFDQSxDQUNKQSxDQUFDQTtRQUNOQSxDQUFDQTtRQUVESCw2Q0FBY0EsR0FBZEE7WUFBQUksaUJBc0VDQTtZQXJFR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsY0FBY0EsS0FBS0Esa0JBQWtCQSxJQUFJQSxjQUFjQSxLQUFLQSxjQUFjQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDN0VBLElBQUlBLFVBQVVBLEdBQU9BLEVBQUVBLENBQUNBO2dCQUN4QkEsVUFBVUEsQ0FBQ0EsRUFBRUEsR0FBR0EsY0FBY0EsR0FBR0EsY0FBY0EsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsU0FBU0EsQ0FBQ0E7Z0JBQ3JJQSxVQUFVQSxDQUFDQSxJQUFJQSxHQUFHQSxVQUFVQSxDQUFDQSxFQUFFQSxDQUFDQTtnQkFDaENBLFVBQVVBLENBQUNBLFdBQVdBLEdBQUdBLGFBQWFBLEdBQUdBLElBQUlBLElBQUlBLEVBQUVBLENBQUNBO2dCQUNwREEsVUFBVUEsQ0FBQ0EsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0E7Z0JBQ3pCQSxVQUFVQSxDQUFDQSxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDMUJBLFVBQVVBLENBQUNBLFNBQVNBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLFNBQVNBLENBQUNBO2dCQUUxREEsSUFBSUEsWUFBWUEsR0FBT0E7b0JBQ25CQSxTQUFTQSxFQUFFQSxVQUFVQSxDQUFDQSxFQUFFQTtvQkFDeEJBLElBQUlBLEVBQUVBLGVBQWVBO29CQUNyQkEsZUFBZUEsRUFBRUEsQ0FBQ0E7b0JBQ2xCQSxnQkFBZ0JBLEVBQUVBLENBQUNBO29CQUNuQkEsZUFBZUEsRUFBRUEsQ0FBQ0E7aUJBQ3JCQSxDQUFDQTtnQkFFRkEsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFDdENBLFVBQUNBLE9BQU9BO29CQUNKQSxZQUFZQSxDQUFDQSxTQUFTQSxHQUFHQSxPQUFPQSxDQUFDQSxFQUFFQSxDQUFDQTtvQkFDcENBLEtBQUlBLENBQUNBLGFBQWFBLENBQUNBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLEVBQzFDQSxVQUFDQSxTQUFTQTt3QkFDTkEsSUFBSUEscUJBQXFCQSxHQUFHQTs0QkFDeEJBLFNBQVNBLEVBQUVBLFlBQVlBLENBQUNBLFNBQVNBOzRCQUNqQ0EsTUFBTUEsRUFBRUEsY0FBY0E7NEJBQ3RCQSxnQkFBZ0JBLEVBQUVBLENBQUNBOzRCQUNuQkEsaUJBQWlCQSxFQUFFQSxDQUFDQTs0QkFDcEJBLFFBQVFBLEVBQUVBLEtBQUlBLENBQUNBLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLFFBQVFBOzRCQUMzQ0EsU0FBU0EsRUFBRUEsS0FBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsU0FBU0E7eUJBQ2hEQSxDQUFDQTt3QkFDRkEsS0FBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxxQkFBcUJBLEVBQy9EQTs0QkFDSUEsS0FBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FDM0JBLFVBQUNBLFdBQVdBO2dDQUNSQSxFQUFFQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtvQ0FDNUJBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLFdBQVdBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO2dDQUM1Q0EsQ0FBQ0E7Z0NBQUNBLElBQUlBLENBQUNBLENBQUNBO29DQUNKQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSx3QkFBd0JBLEdBQUdBLFdBQVdBLENBQUNBLENBQUNBO2dDQUN6REEsQ0FBQ0E7NEJBQ0xBLENBQUNBLENBQUNBLENBQUNBOzRCQUNQQSxLQUFJQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLENBQUNBO3dCQUM1QkEsQ0FBQ0EsRUFDREEsVUFBQ0EsY0FBY0E7NEJBQ1hBLEVBQUVBLENBQUNBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO2dDQUMvQkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7NEJBQy9DQSxDQUFDQTs0QkFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0NBQ0pBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLHdDQUF3Q0EsR0FBR0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7NEJBQzVFQSxDQUFDQTt3QkFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ1hBLENBQUNBLEVBQUVBLFVBQUNBLGNBQWNBO3dCQUNkQSxFQUFFQSxDQUFDQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTs0QkFDL0JBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO3dCQUMvQ0EsQ0FBQ0E7d0JBQUNBLElBQUlBLENBQUNBLENBQUNBOzRCQUNKQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSx5Q0FBeUNBLEdBQUdBLGNBQWNBLENBQUNBLENBQUNBO3dCQUM3RUEsQ0FBQ0E7b0JBQ0xBLENBQUNBLENBQ0pBLENBQUNBO2dCQUNOQSxDQUFDQSxFQUFFQSxVQUFDQSxLQUFLQTtvQkFDTEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ3RCQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtvQkFDdENBLENBQUNBO29CQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTt3QkFDSkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsK0JBQStCQSxHQUFHQSxLQUFLQSxDQUFDQSxDQUFDQTtvQkFDMURBLENBQUNBO2dCQUNMQSxDQUFDQSxDQUNKQSxDQUFDQTtZQUNOQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDSkEsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxDQUFDQTtZQUN6Q0EsQ0FBQ0E7UUFFTEEsQ0FBQ0E7UUF0R2NKLDRCQUFPQSxHQUFHQSxDQUFDQSxRQUFRQSxFQUFFQSxlQUFlQSxDQUFDQSxDQUFDQTtRQXdHekRBLDJCQUFDQTtJQUFEQSxDQXpHQTdCLEFBeUdDNkIsSUFBQTdCO0lBekdZQSxvQ0FBb0JBLEdBQXBCQSxvQkF5R1pBLENBQUFBO0lBRURBLHVCQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxzQkFBc0JBLEVBQUVBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0E7QUFHckVBLENBQUNBLEVBbFhNLGVBQWUsS0FBZixlQUFlLFFBa1hyQjs7QUNuWEQsSUFBTyxlQUFlLENBUXJCO0FBUkQsV0FBTyxlQUFlLEVBQUMsQ0FBQztJQUdUQSxrQ0FBa0JBLEdBQUdBLHVCQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxvQ0FBb0NBLEVBQUVBLENBQUNBLFFBQVFBLEVBQUVBLFVBQUNBLE1BQU1BO1FBQ3ZHQSxNQUFNQSxDQUFDQSxRQUFRQSxHQUFHQSxXQUFXQSxDQUFDQTtJQUVsQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7QUFFUkEsQ0FBQ0EsRUFSTSxlQUFlLEtBQWYsZUFBZSxRQVFyQiIsImZpbGUiOiJjb21waWxlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cblxubW9kdWxlIEhhd2t1bGFyTWV0cmljcyB7XG5cbiAgICAvLy8gc29tZSBjb25maWcgdmFyc1xuICAgIGV4cG9ydCB2YXIgcGx1Z2luTmFtZSA9IFwiaGF3a3VsYXItbWV0cmljc1wiO1xuXG4gICAgZXhwb3J0IHZhciBsb2c6TG9nZ2luZy5Mb2dnZXIgPSBMb2dnZXIuZ2V0KHBsdWdpbk5hbWUpO1xuXG4gICAgZXhwb3J0IHZhciB0ZW1wbGF0ZVBhdGggPSBcInBsdWdpbnMvbWV0cmljcy9odG1sXCI7XG5cblxuICAgIC8vLyBUaGVzZSBhcmUgcGx1Z2luIGdsb2JhbHMgdXNlZCBhY3Jvc3Mgc2V2ZXJhbCBzY3JlZW5zICh0aGluayBzZXNzaW9uIHZhcnMgZnJvbSBzZXJ2ZXIgc2lkZSBwcm9ncmFtbWluZylcblxuICAgIC8vLyBAdG9kbzogdGhpcyB3aWxsIGdvIGF3YXkgb25jZSB3ZSBoYXZlIEtleUNsb2FrIGludGVncmF0aW9uXG4gICAgZXhwb3J0IHZhciBnbG9iYWxUZW5hbnRJZCA9IFwidGVzdFwiO1xuXG4gICAgZXhwb3J0IHZhciBnbG9iYWxSZXNvdXJjZUlkID0gXCJcIjtcbiAgICBleHBvcnQgdmFyIGdsb2JhbFJlc291cmNlVXJsID0gXCJcIjtcblxuICAgIGV4cG9ydCB2YXIgZ2xvYmFsUmVzb3VyY2VMaXN0ID0gW107XG5cbiAgICBleHBvcnQgdmFyIGdsb2JhbENoYXJ0VGltZVJhbmdlOkNoYXJ0VGltZVJhbmdlO1xuXG4gICAgZXhwb3J0IGNsYXNzIENoYXJ0VGltZVJhbmdlIHtcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6bnVtYmVyO1xuICAgICAgICBlbmRUaW1lc3RhbXA6bnVtYmVyO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5pdGlhbEhvdXJzRGlmZmVyZW5jZTpudW1iZXIpIHtcbiAgICAgICAgICAgIC8vLyBqdXN0IHNldCBhIGRlZmF1bHQgaWYgbm8gY3RvcnMgZ2l2ZW5cbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kVGltZXN0YW1wID0gbW9tZW50KCkudmFsdWVPZigpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVzdGFtcCA9IG1vbWVudCgpLnN1YnRyYWN0KCdob3VyJywgdGhpcy5pbml0aWFsSG91cnNEaWZmZXJlbmNlKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRTdGFydERhdGUoKTpEYXRlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnN0YXJ0VGltZXN0YW1wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldEVuZERhdGUoKTpEYXRlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmVuZFRpbWVzdGFtcCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRGb3JtYXR0ZWRUaW1lUmFuZ2UoKTpzdHJpbmcge1xuICAgICAgICAgICAgLy8vQHRvZG86IGlmIGxlc3MgPCAyNCBociBzaG93IHRpbWVzIG90aGVyd2lzZSBkYXRlc1xuICAgICAgICAgICAgLy8vcmV0dXJuIG1vbWVudCh0aGlzLnN0YXJ0VGltZXN0YW1wKS5mb3JtYXQoJ01NTSBkbycpICsgJyAtICcgKyBtb21lbnQodGhpcy5lbmRUaW1lc3RhbXApLmZvcm1hdCgnTU1NIGRvJylcbiAgICAgICAgICAgIC8vLyBpZiB3aXRoaW4gNyBkYXlzXG4gICAgICAgICAgICAvL3JldHVybiBtb21lbnQodGhpcy5zdGFydFRpbWVzdGFtcCkuZm9ybWF0KCdkZGQsIGhBJykgKyAnIC0gJyArIG1vbWVudCh0aGlzLmVuZFRpbWVzdGFtcCkuZm9ybWF0KCdkZGQsIGhBJyk7XG4gICAgICAgICAgICAvLyBpZiB3aXRoaW4gMjQgaG91cnNcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQodGhpcy5zdGFydFRpbWVzdGFtcCkuZm9ybWF0KCdIOm1tJykgKyAnIC0gJyArIG1vbWVudCh0aGlzLmVuZFRpbWVzdGFtcCkuZm9ybWF0KCdIOm1tJylcbiAgICAgICAgICAgICAgICArICcgKCcgKyBtb21lbnQodGhpcy5lbmRUaW1lc3RhbXApLmZyb20obW9tZW50KHRoaXMuc3RhcnRUaW1lc3RhbXApLCB0cnVlKSArICcpJztcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJtZXRyaWNzR2xvYmFscy50c1wiLz5cblxubW9kdWxlIEhhd2t1bGFyTWV0cmljcyB7XG5cbiAgICBleHBvcnQgdmFyIF9tb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShIYXdrdWxhck1ldHJpY3MucGx1Z2luTmFtZSwgWyduZ1Jlc291cmNlJywndWkuc2VsZWN0JywgJ2hhd2t1bGFyQ2hhcnRzJywgJ2hhd2t1bGFyLnNlcnZpY2VzJ10pO1xuXG4gICAgdmFyIG1ldHJpY3NUYWI6YW55O1xuXG4gICAgX21vZHVsZS5jb25maWcoWyckaHR0cFByb3ZpZGVyJywnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHJvdXRlUHJvdmlkZXInLCAnSGF3dGlvTmF2QnVpbGRlclByb3ZpZGVyJywgKCRodHRwUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlcjpuZy5yb3V0ZS5JUm91dGVQcm92aWRlciwgbmF2QnVpbGRlcjpIYXd0aW9NYWluTmF2LkJ1aWxkZXJGYWN0b3J5KSA9PiB7XG5cbiAgICAgICAgLy8vIGVuYWJsZSBDT1JTXG4gICAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMudXNlWERvbWFpbiA9IHRydWU7XG4gICAgICAgIGRlbGV0ZSAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLVJlcXVlc3RlZC1XaXRoJ107XG5cbiAgICAgICAgbWV0cmljc1RhYiA9IG5hdkJ1aWxkZXIuY3JlYXRlKClcbiAgICAgICAgICAgIC5pZChIYXdrdWxhck1ldHJpY3MucGx1Z2luTmFtZSlcbiAgICAgICAgICAgIC50aXRsZSgoKSA9PiBcIk1ldHJpY3NcIilcbiAgICAgICAgICAgIC5ocmVmKCgpID0+IFwiL21ldHJpY3NcIilcbiAgICAgICAgICAgIC5zdWJQYXRoKFwiQWRkIFVybFwiLCBcImFkZFVybFwiLCBuYXZCdWlsZGVyLmpvaW4oSGF3a3VsYXJNZXRyaWNzLnRlbXBsYXRlUGF0aCwgJ2FkZC11cmwuaHRtbCcpKVxuICAgICAgICAgICAgLy8uc3ViUGF0aChcIk1ldHJpY3MgU2VsZWN0aW9uXCIsIFwibWV0cmljc1NlbGVjdGlvblwiLCBuYXZCdWlsZGVyLmpvaW4oSGF3a3VsYXJNZXRyaWNzLnRlbXBsYXRlUGF0aCwgJ21ldHJpY3Mtc2VsZWN0aW9uLmh0bWwnKSlcbiAgICAgICAgICAgIC5zdWJQYXRoKFwiT3ZlcnZpZXdcIiwgXCJvdmVydmlld1wiLCBuYXZCdWlsZGVyLmpvaW4oSGF3a3VsYXJNZXRyaWNzLnRlbXBsYXRlUGF0aCwgJ292ZXJ2aWV3Lmh0bWwnKSlcbiAgICAgICAgICAgIC5zdWJQYXRoKFwiTWV0cmljcyBSZXNwb25zZVwiLCBcIm1ldHJpY3NSZXNwb25zZVwiLCBuYXZCdWlsZGVyLmpvaW4oSGF3a3VsYXJNZXRyaWNzLnRlbXBsYXRlUGF0aCwgJ21ldHJpY3MtcmVzcG9uc2UuaHRtbCcpKVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG5cbiAgICAgICAgbmF2QnVpbGRlci5jb25maWd1cmVSb3V0aW5nKCRyb3V0ZVByb3ZpZGVyLCBtZXRyaWNzVGFiKTtcblxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgfV0pO1xuXG4gICAgX21vZHVsZS5ydW4oWydIYXd0aW9OYXYnLCAoSGF3dGlvTmF2Okhhd3Rpb01haW5OYXYuUmVnaXN0cnkpID0+IHtcbiAgICAgICAgSGF3dGlvTmF2LmFkZChtZXRyaWNzVGFiKTtcbiAgICAgICAgbG9nLmRlYnVnKFwibG9hZGVkIE1ldHJpY3MgUGx1Z2luXCIpO1xuICAgIH1dKTtcblxuICAgIF9tb2R1bGUuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgZWxlbWVudC5iaW5kKFwia2V5ZG93biBrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZihldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdFbnRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG5cblxuICAgIGhhd3Rpb1BsdWdpbkxvYWRlci5hZGRNb2R1bGUoSGF3a3VsYXJNZXRyaWNzLnBsdWdpbk5hbWUpO1xufVxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJtZXRyaWNzUGx1Z2luLnRzXCIvPlxuXG5tb2R1bGUgSGF3a3VsYXJNZXRyaWNzIHtcblxuXG4gICAgZXhwb3J0IGNsYXNzIEFkZFVybENvbnRyb2xsZXIge1xuICAgICAgICAvLy8gdGhpcyBpcyBmb3IgbWluaWZpY2F0aW9uIHB1cnBvc2VzXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnSGF3a3VsYXJJbnZlbnRvcnknXTtcblxuICAgICAgICBwcml2YXRlIGh0dHBVcmlQYXJ0ID0gJ2h0dHA6Ly8nO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGxvY2F0aW9uOm5nLklMb2NhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOmFueSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOm5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlICRsb2c6bmcuSUxvZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGUgSGF3a3VsYXJJbnZlbnRvcnk6YW55LFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWMgcmVzb3VyY2VVcmw6c3RyaW5nKSB7XG4gICAgICAgICAgICAkc2NvcGUudm0gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZVVybCA9IHRoaXMuaHR0cFVyaVBhcnQ7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGFkZFVybCh1cmw6c3RyaW5nKTp2b2lkIHtcbiAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnVVJMJyxcbiAgICAgICAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuJGxvZy5pbmZvKFwiQWRkaW5nIG5ldyBSZXNvdXJjZSBVcmwgdG8gSGF3a3VsYXItaW52ZW50b3J5OiBcIiArIHVybCk7XG5cbiAgICAgICAgICAgIGdsb2JhbENoYXJ0VGltZVJhbmdlID0gbmV3IENoYXJ0VGltZVJhbmdlKDEpO1xuXG4gICAgICAgICAgICAvLy8gQWRkIHRoZSBSZXNvdXJjZVxuICAgICAgICAgICAgdGhpcy5IYXdrdWxhckludmVudG9yeS5SZXNvdXJjZS5zYXZlKHt0ZW5hbnRJZDogZ2xvYmFsVGVuYW50SWR9LCByZXNvdXJjZSkuJHByb21pc2VcbiAgICAgICAgICAgICAgICAudGhlbigobmV3UmVzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm93IGhhdmUgYSByZXNvdXJjZUlkIGZyb20gdGhpcyBjYWxsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFJlc291cmNlSWQgPSBuZXdSZXNvdXJjZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsUmVzb3VyY2VVcmwgPSByZXNvdXJjZS5wYXJhbWV0ZXJzLnVybDtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kaXIobmV3UmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2cuaW5mbyhcIk5ldyBSZXNvdXJjZSBJRDogXCIgKyBnbG9iYWxSZXNvdXJjZUlkICsgXCIgY3JlYXRlZCBmb3IgdXJsOiBcIiArIGdsb2JhbFJlc291cmNlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ2xvYmFsUmVzb3VyY2VJZCArICcuc3RhdHVzLmR1cmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6ICdNSUxMSV9TRUNPTkQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdSZXNwb25zZSBUaW1lIGluIG1zLidcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ2xvYmFsUmVzb3VyY2VJZCArICcuc3RhdHVzLmNvZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogJ05PTkUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTdGF0dXMgQ29kZSdcbiAgICAgICAgICAgICAgICAgICAgfV07XG5cblxuICAgICAgICAgICAgICAgICAgICAvLy8gQHRvZG86IHRoaXMgd2lsbCBiZWNvbWUgdGhlICdNZXRyaWNzIFNlbGVjdGlvbicgc2NyZWVuIG9uY2Ugd2UgZ2V0IHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8vIEZvciByaWdodCBub3cgd2Ugd2lsbCBqdXN0IFJlZ2lzdGVyIGEgY291cGxlIG9mIG1ldHJpY3MgYXV0b21hdGljYWxseVxuICAgICAgICAgICAgICAgICAgICB0aGlzLkhhd2t1bGFySW52ZW50b3J5Lk1ldHJpYy5zYXZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbmFudElkOiBnbG9iYWxUZW5hbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlSWQ6IG5ld1Jlc291cmNlLmlkXG4gICAgICAgICAgICAgICAgICAgIH0sIG1ldHJpY3MpLiRwcm9taXNlLnRoZW4oKG5ld01ldHJpY3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuaW5mbyhcIllvdXIgZGF0YSBpcyBiZWluZyBjb2xsZWN0ZWQuIFBsZWFzZSBiZSBwYXRpZW50IChzaG91bGQgYmUgYWJvdXQgYW5vdGhlciBtaW51dGUpLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8gSG9wIG9uIG92ZXIgdG8gdGhlIG1ldHJpY3NWaWV3IHBhZ2UgZm9yIGNoYXJ0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24udXJsKFwiL21ldHJpY3MvbWV0cmljc1Jlc3BvbnNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW9kdWxlLmNvbnRyb2xsZXIoJ0hhd2t1bGFyTWV0cmljcy5BZGRVcmxDb250cm9sbGVyJywgQWRkVXJsQ29udHJvbGxlcik7XG5cbn1cbiIsIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwibWV0cmljc1BsdWdpbi50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cblxubW9kdWxlIEhhd2t1bGFyTWV0cmljcyB7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb250ZXh0Q2hhcnREYXRhUG9pbnQge1xuICAgICAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICAgICAgdmFsdWU6IG51bWJlcjtcbiAgICAgICAgYXZnOiBudW1iZXI7XG4gICAgICAgIGVtcHR5OiBib29sZWFuO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNoYXJ0RGF0YVBvaW50IGV4dGVuZHMgSUNvbnRleHRDaGFydERhdGFQb2ludCB7XG4gICAgICAgIGRhdGU6IERhdGU7XG4gICAgICAgIG1pbjogbnVtYmVyO1xuICAgICAgICBtYXg6IG51bWJlcjtcbiAgICB9XG5cblxuICAgIHZhciBzaGFyZWRNZXRyaWNJZDtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBjb250cm9sbGVyXG4gICAgICogQG5hbWUgQ2hhcnRDb250cm9sbGVyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoaXMgY29udHJvbGxlciBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgYWN0aXZpdHkgcmVsYXRlZCB0byB0aGUgQ2hhcnQgdGFiLlxuICAgICAqIEBwYXJhbSAkc2NvcGVcbiAgICAgKiBAcGFyYW0gJHJvb3RTY29wZVxuICAgICAqIEBwYXJhbSAkaW50ZXJ2YWxcbiAgICAgKiBAcGFyYW0gJGxvZ1xuICAgICAqIEBwYXJhbSBtZXRyaWNEYXRhU2VydmljZVxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBNZXRyaWNzVmlld0NvbnRyb2xsZXIge1xuICAgICAgICAvLy8gZm9yIG1pbmlmaWNhdGlvbiBvbmx5XG4gICAgICAgIHB1YmxpYyBzdGF0aWMgICRpbmplY3QgPSBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRpbnRlcnZhbCcsICckbG9nJywgJ0hhd2t1bGFyTWV0cmljJywgJ0hhd2t1bGFySW52ZW50b3J5J107XG5cbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSAkc2NvcGU6YW55LFxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlICRyb290U2NvcGU6bmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGUgJGludGVydmFsOm5nLklJbnRlcnZhbFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGUgJGxvZzpuZy5JTG9nU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSBIYXdrdWxhck1ldHJpYzphbnksXG4gICAgICAgICAgICAgICAgICAgIHByaXZhdGUgSGF3a3VsYXJJbnZlbnRvcnk6YW55LFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWMgc3RhcnRUaW1lU3RhbXA6RGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcHVibGljIGVuZFRpbWVTdGFtcDpEYXRlLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWMgZGF0ZVJhbmdlOnN0cmluZykge1xuICAgICAgICAgICAgJHNjb3BlLnZtID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVTdGFtcCA9IG1vbWVudCgpLnN1YnRyYWN0KDEsICdob3VycycpLnRvRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5lbmRUaW1lU3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBtb21lbnQodGhpcy5zdGFydFRpbWVTdGFtcCkuZm9ybWF0KCdIOm1tJykgKyAnIC0gJyArIG1vbWVudCh0aGlzLmVuZFRpbWVTdGFtcCkuZm9ybWF0KCdIOm1tJylcbiAgICAgICAgICAgICsgJyAoJyArIG1vbWVudCh0aGlzLmVuZFRpbWVTdGFtcCkuZnJvbShtb21lbnQodGhpcy5zdGFydFRpbWVTdGFtcCksIHRydWUpICsgJyknO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCdSZWZyZXNoQ2hhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudm0ucmVmcmVzaENoYXJ0RGF0YU5vdyh0aGlzLmdldE1ldHJpY0lkKCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ3ZtLnNlbGVjdGVkUmVzb3VyY2UnLCAocmVzb3VyY2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChyZXNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8vIGNhc2Ugd2hlbiBjb21pbmcgZnJvbSBhZGRVcmwgc2NyZWVuXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFJlc291cmNlTGlzdCA9IHRoaXMuSGF3a3VsYXJJbnZlbnRvcnkuUmVzb3VyY2UucXVlcnkoe3RlbmFudElkOiBnbG9iYWxUZW5hbnRJZH0pLiRwcm9taXNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbigocmVzb3VyY2VzKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlTGlzdCA9IHJlc291cmNlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUmVzb3VyY2UgPSByZXNvdXJjZXNbcmVzb3VyY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52bS5yZWZyZXNoQ2hhcnREYXRhTm93KHRoaXMuZ2V0TWV0cmljSWQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vLyBtYWRlIGEgc2VsZWN0aW9uIGZyb20gdXJsIHN3aXRjaGVyXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFJlc291cmNlSWQgPSByZXNvdXJjZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZtLnJlZnJlc2hDaGFydERhdGFOb3codGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUudm0ub25DcmVhdGUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBidWNrZXRlZERhdGFQb2ludHM6SUNoYXJ0RGF0YVBvaW50W10gPSBbXTtcbiAgICAgICAgcHJpdmF0ZSBjb250ZXh0RGF0YVBvaW50czpJQ2hhcnREYXRhUG9pbnRbXSA9IFtdO1xuICAgICAgICBwcml2YXRlIGNoYXJ0RGF0YTphbnk7XG4gICAgICAgIHByaXZhdGUgaXNSZXNwb25zZVRhYiA9IHRydWU7XG4gICAgICAgIHByaXZhdGUgYXV0b1JlZnJlc2hQcm9taXNlOm5nLklQcm9taXNlPG51bWJlcj47XG5cbiAgICAgICAgLy8vIGV4cG9zZSB0aGlzIHRvIHRoZSBWaWV3XG4gICAgICAgIHJlc291cmNlTGlzdCA9IFtdO1xuICAgICAgICBzZWxlY3RlZFJlc291cmNlO1xuXG5cbiAgICAgICAgcHJpdmF0ZSBvbkNyZWF0ZSgpIHtcbiAgICAgICAgICAgIC8vLyBzZXR1cCBhdXRvcmVmcmVzaCBmb3IgZXZlcnkgbWludXRlXG4gICAgICAgICAgICB0aGlzLmF1dG9SZWZyZXNoKDYwKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBSZXNvdXJjZUxpc3QoKTtcbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VMaXN0ID0gZ2xvYmFsUmVzb3VyY2VMaXN0O1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJlc291cmNlID0gdGhpcy5yZXNvdXJjZUxpc3RbdGhpcy5yZXNvdXJjZUxpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hDaGFydERhdGFOb3codGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldHVwUmVzb3VyY2VMaXN0KCkge1xuICAgICAgICAgICAgZ2xvYmFsUmVzb3VyY2VMaXN0ID0gdGhpcy5IYXdrdWxhckludmVudG9yeS5SZXNvdXJjZS5xdWVyeSh7dGVuYW50SWQ6IGdsb2JhbFRlbmFudElkfSk7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlTGlzdCA9IGdsb2JhbFJlc291cmNlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbmNlbEF1dG9SZWZyZXNoKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLiRpbnRlcnZhbC5jYW5jZWwodGhpcy5hdXRvUmVmcmVzaFByb21pc2UpO1xuICAgICAgICAgICAgdG9hc3RyLmluZm8oJ0NhbmNlbGluZyBBdXRvIFJlZnJlc2gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9SZWZyZXNoKGludGVydmFsSW5TZWNvbmRzOm51bWJlcik6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhRm9yVGltZXN0YW1wKHRoaXMuZ2V0TWV0cmljSWQoKSk7XG4gICAgICAgICAgICB0aGlzLmF1dG9SZWZyZXNoUHJvbWlzZSA9IHRoaXMuJGludGVydmFsKCgpICA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRUaW1lU3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGFGb3JUaW1lc3RhbXAodGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICAgICAgICAgIH0sIGludGVydmFsSW5TZWNvbmRzICogMTAwMCk7XG5cbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMuYXV0b1JlZnJlc2hQcm9taXNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBub0RhdGFGb3VuZEZvcklkKGlkOnN0cmluZyk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLiRsb2cud2FybignTm8gRGF0YSBmb3VuZCBmb3IgaWQ6ICcgKyBpZCk7XG4gICAgICAgICAgICAvLy90b2FzdHIud2FybmluZygnTm8gRGF0YSBmb3VuZCBmb3IgaWQ6ICcgKyBpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHN0YXRpYyBjYWxjdWxhdGVQcmV2aW91c1RpbWVSYW5nZShzdGFydERhdGU6RGF0ZSwgZW5kRGF0ZTpEYXRlKTphbnkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzVGltZVJhbmdlOkRhdGVbXSA9IFtdO1xuICAgICAgICAgICAgdmFyIGludGVydmFsSW5NaWxsaXMgPSBlbmREYXRlLmdldFRpbWUoKSAtIHN0YXJ0RGF0ZS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIHByZXZpb3VzVGltZVJhbmdlLnB1c2gobmV3IERhdGUoc3RhcnREYXRlLmdldFRpbWUoKSAtIGludGVydmFsSW5NaWxsaXMpKTtcbiAgICAgICAgICAgIHByZXZpb3VzVGltZVJhbmdlLnB1c2goc3RhcnREYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1RpbWVSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNob3dQcmV2aW91c1RpbWVSYW5nZSgpOnZvaWQge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzVGltZVJhbmdlID0gTWV0cmljc1ZpZXdDb250cm9sbGVyLmNhbGN1bGF0ZVByZXZpb3VzVGltZVJhbmdlKHRoaXMuc3RhcnRUaW1lU3RhbXAsIHRoaXMuZW5kVGltZVN0YW1wKTtcblxuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVTdGFtcCA9IHByZXZpb3VzVGltZVJhbmdlWzBdO1xuICAgICAgICAgICAgdGhpcy5lbmRUaW1lU3RhbXAgPSBwcmV2aW91c1RpbWVSYW5nZVsxXTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGEodGhpcy5nZXRNZXRyaWNJZCgpLCB0aGlzLnN0YXJ0VGltZVN0YW1wLCB0aGlzLmVuZFRpbWVTdGFtcCk7XG5cbiAgICAgICAgfVxuXG5cbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgY2FsY3VsYXRlTmV4dFRpbWVSYW5nZShzdGFydERhdGU6RGF0ZSwgZW5kRGF0ZTpEYXRlKTphbnkge1xuICAgICAgICAgICAgdmFyIG5leHRUaW1lUmFuZ2UgPSBbXTtcbiAgICAgICAgICAgIHZhciBpbnRlcnZhbEluTWlsbGlzID0gZW5kRGF0ZS5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICBuZXh0VGltZVJhbmdlLnB1c2goZW5kRGF0ZSk7XG4gICAgICAgICAgICBuZXh0VGltZVJhbmdlLnB1c2gobmV3IERhdGUoZW5kRGF0ZS5nZXRUaW1lKCkgKyBpbnRlcnZhbEluTWlsbGlzKSk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFRpbWVSYW5nZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgc2hvd05leHRUaW1lUmFuZ2UoKTp2b2lkIHtcbiAgICAgICAgICAgIHZhciBuZXh0VGltZVJhbmdlID0gTWV0cmljc1ZpZXdDb250cm9sbGVyLmNhbGN1bGF0ZU5leHRUaW1lUmFuZ2UodGhpcy5zdGFydFRpbWVTdGFtcCwgdGhpcy5lbmRUaW1lU3RhbXApO1xuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZVN0YW1wID0gbmV4dFRpbWVSYW5nZVswXTtcbiAgICAgICAgICAgIHRoaXMuZW5kVGltZVN0YW1wID0gbmV4dFRpbWVSYW5nZVsxXTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGEodGhpcy5nZXRNZXRyaWNJZCgpLCB0aGlzLnN0YXJ0VGltZVN0YW1wLCB0aGlzLmVuZFRpbWVTdGFtcCk7XG5cbiAgICAgICAgfVxuXG5cbiAgICAgICAgaGFzTmV4dCgpOmJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIG5leHRUaW1lUmFuZ2UgPSBNZXRyaWNzVmlld0NvbnRyb2xsZXIuY2FsY3VsYXRlTmV4dFRpbWVSYW5nZSh0aGlzLnN0YXJ0VGltZVN0YW1wLCB0aGlzLmVuZFRpbWVTdGFtcCk7XG4gICAgICAgICAgICAvLyB1bnNvcGhpc3RpY2F0ZWQgdGVzdCB0byBzZWUgaWYgdGhlcmUgaXMgYSBuZXh0OyB3aXRob3V0IGFjdHVhbGx5IHF1ZXJ5aW5nLlxuXG4gICAgICAgICAgICAvL0BmaXhtZTogcGF5IHRoZSBwcmljZSwgZG8gdGhlIHF1ZXJ5IVxuICAgICAgICAgICAgcmV0dXJuIG5leHRUaW1lUmFuZ2VbMV0uZ2V0VGltZSgpIDwgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlZnJlc2hDaGFydERhdGFOb3cobWV0cmljSWQ6c3RyaW5nLCBzdGFydFRpbWU/OkRhdGUpOnZvaWQge1xuICAgICAgICAgICAgdmFyIGFkalN0YXJ0VGltZVN0YW1wOkRhdGUgPSBtb21lbnQoKS5zdWJ0cmFjdCgnaG91cnMnLCAxKS50b0RhdGUoKTsgLy9kZWZhdWx0IHRpbWUgcGVyaW9kIHNldCB0byAyNCBob3Vyc1xuICAgICAgICAgICAgLy90aGlzLiRyb290U2NvcGUuJGJyb2FkY2FzdCgnTXVsdGlDaGFydE92ZXJsYXlEYXRhQ2hhbmdlZCcpO1xuICAgICAgICAgICAgdGhpcy5lbmRUaW1lU3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoSGlzdG9yaWNhbENoYXJ0RGF0YShtZXRyaWNJZCwgYW5ndWxhci5pc1VuZGVmaW5lZChzdGFydFRpbWUpID8gYWRqU3RhcnRUaW1lU3RhbXAgOiBzdGFydFRpbWUsIHRoaXMuZW5kVGltZVN0YW1wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhKG1ldHJpY0lkOnN0cmluZywgc3RhcnREYXRlOkRhdGUsIGVuZERhdGU6RGF0ZSk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhRm9yVGltZXN0YW1wKG1ldHJpY0lkLCBzdGFydERhdGUuZ2V0VGltZSgpLCBlbmREYXRlLmdldFRpbWUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRNZXRyaWNJZCgpIHtcbiAgICAgICAgICAgIHZhciBtZXRyaWNJZCA9IHRoaXMuaXNSZXNwb25zZVRhYiA/IHRoaXMuZ2V0UmVzb3VyY2VEdXJhdGlvbk1ldHJpY0lkKCkgOiB0aGlzLmdldFJlc291cmNlQ29kZU1ldHJpY0lkKCk7XG4gICAgICAgICAgICBzaGFyZWRNZXRyaWNJZCA9IG1ldHJpY0lkO1xuICAgICAgICAgICAgcmV0dXJuIG1ldHJpY0lkO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRSZXNvdXJjZUR1cmF0aW9uTWV0cmljSWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsUmVzb3VyY2VJZCArICcuc3RhdHVzLmR1cmF0aW9uJztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZ2V0UmVzb3VyY2VDb2RlTWV0cmljSWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsUmVzb3VyY2VJZCArICcuc3RhdHVzLmNvZGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGFGb3JUaW1lc3RhbXAobWV0cmljSWQ6c3RyaW5nLCBzdGFydFRpbWU/Om51bWJlciwgZW5kVGltZT86bnVtYmVyKTp2b2lkIHtcbiAgICAgICAgICAgIC8vIGNhbGxpbmcgcmVmcmVzaENoYXJ0RGF0YSB3aXRob3V0IHBhcmFtcyB1c2UgdGhlIG1vZGVsIHZhbHVlc1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoZW5kVGltZSkpIHtcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gdGhpcy5lbmRUaW1lU3RhbXAuZ2V0VGltZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc3RhcnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRoaXMuc3RhcnRUaW1lU3RhbXAuZ2V0VGltZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLkhhd2t1bGFyTWV0cmljLk51bWVyaWNNZXRyaWNEYXRhLnF1ZXJ5TWV0cmljcyh7XG4gICAgICAgICAgICAgICAgdGVuYW50SWQ6IGdsb2JhbFRlbmFudElkLFxuICAgICAgICAgICAgICAgIG51bWVyaWNJZDogbWV0cmljSWQsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBlbmQ6IGVuZFRpbWUsXG4gICAgICAgICAgICAgICAgYnVja2V0czogNjBcbiAgICAgICAgICAgIH0pLiRwcm9taXNlXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHdhbnQgdG8gaXNvbGF0ZSB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgZGF0YSB3ZSBhcmUgZmVlZGluZyB0byB0aGUgY2hhcnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWNrZXRlZERhdGFQb2ludHMgPSB0aGlzLmZvcm1hdEJ1Y2tldGVkQ2hhcnRPdXRwdXQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLmJ1Y2tldGVkRGF0YVBvaW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYnVja2V0ZWREYXRhUG9pbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBiYXNpY2FsbHkgdGhlIERUTyBmb3IgdGhlIGNoYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWV0cmljSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lU3RhbXA6IHRoaXMuc3RhcnRUaW1lU3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZVN0YW1wOiB0aGlzLmVuZFRpbWVTdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUG9pbnRzOiB0aGlzLmJ1Y2tldGVkRGF0YVBvaW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0RGF0YVBvaW50czogdGhpcy5jb250ZXh0RGF0YVBvaW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uRGF0YVBvaW50czogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9EYXRhRm91bmRGb3JJZCh0aGlzLmdldE1ldHJpY0lkKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdFcnJvciBMb2FkaW5nIENoYXJ0IERhdGE6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZm9ybWF0QnVja2V0ZWRDaGFydE91dHB1dChyZXNwb25zZSk6SUNoYXJ0RGF0YVBvaW50W10ge1xuICAgICAgICAgICAgLy8gIFRoZSBzY2hlbWEgaXMgZGlmZmVyZW50IGZvciBidWNrZXRlZCBvdXRwdXRcbiAgICAgICAgICAgIHJldHVybiBfLm1hcChyZXNwb25zZS5kYXRhLCAocG9pbnQ6SUNoYXJ0RGF0YVBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBwb2ludC50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKHBvaW50LnRpbWVzdGFtcCksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAhYW5ndWxhci5pc051bWJlcihwb2ludC52YWx1ZSkgPyAwIDogcG9pbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGF2ZzogKHBvaW50LmVtcHR5KSA/IDAgOiBwb2ludC5hdmcsXG4gICAgICAgICAgICAgICAgICAgIG1pbjogIWFuZ3VsYXIuaXNOdW1iZXIocG9pbnQubWluKSA/IDAgOiBwb2ludC5taW4sXG4gICAgICAgICAgICAgICAgICAgIG1heDogIWFuZ3VsYXIuaXNOdW1iZXIocG9pbnQubWF4KSA/IDAgOiBwb2ludC5tYXgsXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5OiBwb2ludC5lbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgX21vZHVsZS5jb250cm9sbGVyKCdNZXRyaWNzVmlld0NvbnRyb2xsZXInLCBNZXRyaWNzVmlld0NvbnRyb2xsZXIpO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJUXVpY2tBbGVydENvbnRyb2xsZXIge1xuICAgICAgICB0b2dnbGVRdWlja0FsZXJ0KCk6dm9pZFxuICAgICAgICBzYXZlUXVpY2tBbGVydCgpOnZvaWRcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgUXVpY2tBbGVydENvbnRyb2xsZXIgaW1wbGVtZW50cyBJUXVpY2tBbGVydENvbnRyb2xsZXIge1xuICAgICAgICBwdWJsaWMgc3RhdGljICAkaW5qZWN0ID0gWyckc2NvcGUnLCAnSGF3a3VsYXJBbGVydCddO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJHNjb3BlOmFueSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSBIYXdrdWxhckFsZXJ0OmFueSkge1xuICAgICAgICAgICAgdGhpcy4kc2NvcGUuc2hvd1F1aWNrQWxlcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlciA9IHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogJ0xUJyxcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFsbE5vdGlmaWVycygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdGlmaWVyczogJyArIHRoaXMuJHNjb3BlLm5vdGlmaWVycyk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2dnbGVRdWlja0FsZXJ0KCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS5zaG93UXVpY2tBbGVydCA9ICF0aGlzLiRzY29wZS5zaG93UXVpY2tBbGVydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWxsTm90aWZpZXJzKCk6dm9pZCB7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS5ub3RpZmllcnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuSGF3a3VsYXJBbGVydC5Ob3RpZmllci5xdWVyeShcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLm5vdGlmaWVycyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmRhdGEuZXJyb3JNc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnJvci5kYXRhLmVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignRXJyb3IgbG9hZGluZyBBbGVydHMgTm90aWZpZXJzOiAnICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNhdmVRdWlja0FsZXJ0KCk6dm9pZCB7XG4gICAgICAgICAgICBpZiAoc2hhcmVkTWV0cmljSWQgIT09ICcuc3RhdHVzLmR1cmF0aW9uJyAmJiBzaGFyZWRNZXRyaWNJZCAhPT0gJy5zdGF0dXMuY29kZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3VHJpZ2dlcjphbnkgPSB7fTtcbiAgICAgICAgICAgICAgICBuZXdUcmlnZ2VyLmlkID0gc2hhcmVkTWV0cmljSWQgKyAnUmVzcG9uc2VUaW1lJyArICctJyArIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci5vcGVyYXRvciArICctJyArIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci50aHJlc2hvbGQ7XG4gICAgICAgICAgICAgICAgbmV3VHJpZ2dlci5uYW1lID0gbmV3VHJpZ2dlci5pZDtcbiAgICAgICAgICAgICAgICBuZXdUcmlnZ2VyLmRlc2NyaXB0aW9uID0gJ0NyZWF0ZWQgb24gJyArIG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgbmV3VHJpZ2dlci5tYXRjaCA9ICdBTEwnO1xuICAgICAgICAgICAgICAgIG5ld1RyaWdnZXIuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbmV3VHJpZ2dlci5ub3RpZmllcnMgPSB0aGlzLiRzY29wZS5xdWlja1RyaWdnZXIubm90aWZpZXJzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld0RhbXBlbmluZzphbnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJJZDogbmV3VHJpZ2dlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1JFTEFYRURfQ09VTlQnLFxuICAgICAgICAgICAgICAgICAgICBldmFsVHJ1ZVNldHRpbmc6IDEsXG4gICAgICAgICAgICAgICAgICAgIGV2YWxUb3RhbFNldHRpbmc6IDEsXG4gICAgICAgICAgICAgICAgICAgIGV2YWxUaW1lU2V0dGluZzogMFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLkhhd2t1bGFyQWxlcnQuVHJpZ2dlci5zYXZlKG5ld1RyaWdnZXIsXG4gICAgICAgICAgICAgICAgICAgICh0cmlnZ2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdEYW1wZW5pbmcudHJpZ2dlcklkID0gdHJpZ2dlci5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuSGF3a3VsYXJBbGVydC5EYW1wZW5pbmcuc2F2ZShuZXdEYW1wZW5pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRhbXBlbmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGhyZXNob2xkQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcklkOiBuZXdEYW1wZW5pbmcudHJpZ2dlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUlkOiBzaGFyZWRNZXRyaWNJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvblNldFNpemU6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRpb25TZXRJbmRleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiB0aGlzLiRzY29wZS5xdWlja1RyaWdnZXIub3BlcmF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQ6IHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci50aHJlc2hvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5IYXdrdWxhckFsZXJ0WydUaHJlc2hvbGRDb25kaXRpb24nXS5zYXZlKG5ld1RocmVzaG9sZENvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkhhd2t1bGFyQWxlcnQuQWxlcnQucmVsb2FkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3JSZWxvYWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlbG9hZC5kYXRhLmVycm9yTXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yUmVsb2FkLmRhdGEuZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0Vycm9yIHJlbG9hZGluZyBhbGVydHMnICsgZXJyb3JSZWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVF1aWNrQWxlcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3JDb25kaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDb25kaXRpb24uZGF0YS5lcnJvck1zZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3JDb25kaXRpb24uZGF0YS5lcnJvck1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdFcnJvciBsb2FkaW5nIFNhdmluZyBUcmlnZ2VyIENvbmRpdGlvbicgKyBlcnJvckNvbmRpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycm9yRGFtcGVuaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckRhbXBlbmluZy5kYXRhLmVycm9yTXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3JEYW1wZW5pbmcuZGF0YS5lcnJvck1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgU2F2aW5nIFRyaWdnZXIgRGFtcGVuaW5nICcgKyBlcnJvckRhbXBlbmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5kYXRhLmVycm9yTXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yLmRhdGEuZXJyb3JNc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgU2F2aW5nIFRyaWdnZXIgJyArIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKCdObyBtZXRyaWMgc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfbW9kdWxlLmNvbnRyb2xsZXIoJ1F1aWNrQWxlcnRDb250cm9sbGVyJywgUXVpY2tBbGVydENvbnRyb2xsZXIpO1xuXG5cbn1cbiIsIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwibWV0cmljc1BsdWdpbi50c1wiLz5cblxubW9kdWxlIEhhd2t1bGFyTWV0cmljcyB7XG5cblxuICAgIGV4cG9ydCB2YXIgT3ZlcnZpZXdDb250cm9sbGVyID0gX21vZHVsZS5jb250cm9sbGVyKFwiSGF3a3VsYXJNZXRyaWNzLk92ZXJ2aWV3Q29udHJvbGxlclwiLCBbJyRzY29wZScsICgkc2NvcGUpID0+IHtcbiAgICAgICAgJHNjb3BlLm92ZXJ2aWV3ID0gXCJPdmVyIFZpZXdcIjtcblxuICAgIH1dKTtcblxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
angular.module("hawkular-ui-components-metrics-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/metrics/html/add-url.html","<div class=\"pg-insert-url\" ng-controller=\"HawkularMetrics.AddUrlController\">\n    <div class=\"container\">\n        <!--<h1>Welcome Brian!</h1>-->\n        <h2>Collect metrics from a website that you want to monitor.</h2>\n        <form class=\"form-horizontal\" name=\"addUrlForm\" role=\"form\" novalidate>\n            <div class=\"form-group input\">\n                <div class=\"col-lg-6 col-sm-8 col-xs-12 align-center\">\n                    <div class=\"input-group input-group-lg\">\n                        <input type=\"url\" class=\"form-control input-lg\" name=\"resourceUrl\" ng-model=\"vm.resourceUrl\"\n                               ng-model-options=\"{ updateOn: \'default blur\'}\"\n                               ng-enter=\"vm.addUrl(vm.resourceUrl)\"\n                               placeholder=\"Enter a website URL (e.g., http://mysite.com/home)\" required>\n                        <span class=\"help-block hide\"  ng-show=\"addUrlForm.resourceUrl.$dirty && addUrlForm.resourceUrl.$error.required\">The URL you entered is not valid. Please enter a valid URL.</span>\n              <span class=\"input-group-btn\">\n                   <button class=\"btn btn-primary btn-lg\" type=\"button\" ng-disabled=\"!addUrlForm.$valid\"\n                           ng-click=\"vm.addUrl(vm.resourceUrl)\">Get Metrics\n                   </button>\n              </span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"form-group loading hide\">\n                <div class=\"spinner spinner-lg\"></div>\n                <button type=\"button\" class=\"btn btn-link\">Cancel</button>\n            </div>\n        </form>\n    </div>\n</div>\n");
$templateCache.put("plugins/metrics/html/metrics-response.html","<div ng-controller=\"MetricsViewController as vm\">\n\n    <div class=\"col-sm-9 col-md-10 content\">\n\n        <div class=\"well\" id=\"control-bar\">\n            <span  class=\"col-md-3 col-sm-4 select-url-container\" >\n                <select class=\"form-control input-sm select-url\" ng-model=\"vm.selectedResource\"\n                        ng-options=\"rs.parameters.url for rs in vm.resourceList\"></select>\n            </span>\n            <span id=\"date-range-container\" class=\"col-md-3 col-sm-2 pull-right\" >\n                <span id=\"date-range\" class=\"input-group input-group-sm\" >\n                    <input type=\"text\" class=\"form-control input-sm\" value=\"{{vm.dateRange}}\" readonly>\n                </span>\n            </span>\n        </div>\n        <h1>Response Time</h1>\n\n        <p class=\"update-info pull-right\"><i class=\"fa fa-refresh\"></i>\n            <a ng-click=\"vm.refreshChartDataNow(vm.getMetricId())\">Last update 1 minutes ago</a>\n        </p>\n        <ul class=\"nav nav-tabs nav-tabs-pf\">\n            <li class=\"active\"><a href=\"#\">Response Time</a></li>\n            <li><a href=\"#\">Responsiveness</a></li>\n        </ul>\n        <div id=\"metrics-chart-container\" ng-switch=\"vm.chartData.dataPoints.length > 1\">\n            <p class=\"label label-info\" ng-switch-when=\"false\" style=\"margin-bottom: 25px;\">We are collecting your\n                initial data. Please be patient(could be up to a minute)...</p>\n\n            <div  style=\"height:270px\" ng-switch-when=\"true\">\n                <!-- HINT: colors for the chart can be changed in the hawkular-charts.css -->\n                <hawkular-chart\n                        data=\"{{vm.chartData.dataPoints}}\"\n                        chart-type=\"line\"\n                        show-avg-line=\"false\"\n                        hide-high-low-values=\"true\"\n                        y-axis-units=\"Response time (ms)\"\n                        chart-title=\"Monitored Resource: {{vm.selectedResource.parameters.url}}\"\n                        chart-height=\"250\">\n                </hawkular-chart>\n            </div>\n            <!--\n            <div style=\"margin-top: 30px;\">\n                <button class=\"btn btn-sm\" ng-click=\"vm.showPreviousTimeRange()\" style=\"margin-left:90px;\"\n                        ng-show=\"vm.chartData.dataPoints.length > 2\">&lt;&lt; Prev.\n                </button>\n                <button class=\"btn btn-sm\" style=\"float:right;margin-right: 50px;\" ng-click=\"vm.showNextTimeRange()\"\n                        ng-show=\"vm.chartData.dataPoints.length > 2\" ng-disabled=\"!vm.hasNext();\">Next &gt;&gt;</button>\n            </div>\n            <br/>\n            -->\n        </div>\n\n    </div>\n\n    <div ng-controller=\"QuickAlertController as qac\" ng-show=\"vm.chartData.dataPoints.length > 1\">\n        <div ng-if=\"!showQuickAlert\" class=\"col-sm-9 col-md-10 content\">\n            <button class=\"btn btn-primary pull-left\" ng-click=\"qac.toggleQuickAlert()\">Add an Alert</button>\n        </div>\n        <div ng-if=\"showQuickAlert\" class=\"col-sm-9 col-md-10 content\">\n            <h1>Add an Alert</h1>\n\n            <form class=\"form-horizontal\" name=\"addQuickAlertForm\" role=\"form\">\n                <div class=\"form-group\">\n                    <label class=\"col-md-4 control-label\">\n                        Fire when metric is\n                    </label>\n\n                    <div class=\"col-md-6\">\n                        <label class=\"radio-inline\">\n                            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"LT\"> <\n                        </label>\n                        <label class=\"radio-inline\">\n                            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"GT\"> >\n                        </label>\n                        <label class=\"radio-inline\">\n                            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"LTE\"> <=\n                        </label>\n                        <label class=\"radio-inline\">\n                            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"GTE\"> >=\n                        </label>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"col-md-4 control-label\" for=\"threshold\">\n                        Of threshold\n                    </label>\n\n                    <div class=\"col-md-6\">\n                        <input type=\"number\" id=\"threshold\" ng-model=\"quickTrigger.threshold\" class=\"form-control\"\n                               ng-minlength=\"1\" required>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"col-md-4 control-label\" for=\"notifiers\">\n                        Notify to:\n                    </label>\n\n                    <div class=\"col-md-6\">\n                        <ui-select id=\"notifiers\" multiple ng-model=\"quickTrigger.notifiers\" theme=\"bootstrap\"\n                                   ng-disabled=\"disabled\" close-on-select=\"false\">\n                            <ui-select-match placeholder=\"Select notifier...\">{{$item}}</ui-select-match>\n                            <ui-select-choices repeat=\"notifier in notifiers | filter:$select.search\">\n                                {{ notifier }}\n                            </ui-select-choices>\n                        </ui-select>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <div class=\"col-md-offset-4 col-md-6\">\n                        <button class=\"btn btn-primary\" ng-click=\"qac.saveQuickAlert()\">Create Alert</button>\n                        <button type=\"button\" class=\"btn btn-default\" ng-click=\"qac.toggleQuickAlert()\">Cancel</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n\n</div>\n\n\n");
$templateCache.put("plugins/metrics/html/overview.html","<div class=\"row\" ng-controller=\"HawkularMetrics.OverviewController as vm\">\n    <div class=\"col-md-12\">\n        <h1>TBD: Metrics Overview</h1>\n    </div>\n</div>\n");}]); hawtioPluginLoader.addModule("hawkular-ui-components-metrics-templates");